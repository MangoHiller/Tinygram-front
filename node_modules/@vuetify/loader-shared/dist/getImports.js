"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.getImports = void 0;
const parseTemplate_1 = require("./parseTemplate");
const importMap_json_1 = __importDefault(require("vuetify/dist/json/importMap.json"));
function getImports(source) {
    const { components, directives } = (0, parseTemplate_1.parseTemplate)(source);
    const resolvedComponents = [];
    const resolvedDirectives = [];
    const imports = new Map();
    if (components.size || directives.size) {
        addImport(imports, 'installAssets', '@vuetify/loader-shared/runtime');
        components.forEach(name => {
            if (name in importMap_json_1.default.components) {
                resolvedComponents.push(name);
                addImport(imports, name, 'vuetify/lib/' + importMap_json_1.default.components[name].from);
            }
        });
        directives.forEach(name => {
            if (importMap_json_1.default.directives.includes(name)) {
                resolvedDirectives.push(name);
                addImport(imports, name, 'vuetify/lib/directives/index.mjs');
            }
        });
    }
    return {
        imports,
        components: resolvedComponents,
        directives: resolvedDirectives,
    };
}
exports.getImports = getImports;
function addImport(imports, name, from) {
    if (!imports.has(from)) {
        imports.set(from, []);
    }
    imports.get(from).push(name);
}
//# sourceMappingURL=getImports.js.map