{"remainingRequest":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/thread-loader/dist/cjs.js!/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/babel-loader/lib/index.js!/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/vuetify/lib/composables/locale.mjs","dependencies":[{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/vuetify/lib/composables/locale.mjs","mtime":1668093900332},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/babel.config.js","mtime":1668093862815},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js","mtime":1668093903975},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/thread-loader/dist/cjs.js","mtime":1668093903990},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/babel-loader/lib/index.js","mtime":1668093897906}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY29tcHV0ZWQsIGluamVjdCwgcHJvdmlkZSB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IGNvbnNvbGVFcnJvciwgY29uc29sZVdhcm4sIGdldE9iamVjdFZhbHVlQnlQYXRoLCB3cmFwSW5SZWYgfSBmcm9tICIuLi91dGlsL2luZGV4Lm1qcyI7CmltcG9ydCBlbiBmcm9tICIuLi9sb2NhbGUvZW4ubWpzIjsgLy8gVHlwZXMKCmV4cG9ydCBjb25zdCBMb2NhbGVBZGFwdGVyU3ltYm9sID0gU3ltYm9sLmZvcigndnVldGlmeTpsb2NhbGUtYWRhcHRlcicpOwpleHBvcnQgY29uc3QgVnVldGlmeUxvY2FsZVN5bWJvbCA9IFN5bWJvbC5mb3IoJ3Z1ZXRpZnk6bG9jYWxlJyk7CmV4cG9ydCBmdW5jdGlvbiBwcm92aWRlTG9jYWxlKHByb3BzKSB7CiAgY29uc3QgYWRhcHRlciA9IGluamVjdChMb2NhbGVBZGFwdGVyU3ltYm9sKTsKICBpZiAoIWFkYXB0ZXIpIHRocm93IG5ldyBFcnJvcignW1Z1ZXRpZnldIENvdWxkIG5vdCBmaW5kIGluamVjdGVkIGxvY2FsZSBhZGFwdGVyJyk7CiAgcmV0dXJuIGFkYXB0ZXIuY3JlYXRlU2NvcGUocHJvcHMpOwp9CmV4cG9ydCBmdW5jdGlvbiB1c2VMb2NhbGUoKSB7CiAgY29uc3QgYWRhcHRlciA9IGluamVjdChMb2NhbGVBZGFwdGVyU3ltYm9sKTsKICBpZiAoIWFkYXB0ZXIpIHRocm93IG5ldyBFcnJvcignW1Z1ZXRpZnldIENvdWxkIG5vdCBmaW5kIGluamVjdGVkIGxvY2FsZSBhZGFwdGVyJyk7CiAgcmV0dXJuIGFkYXB0ZXIuZ2V0U2NvcGUoKTsKfQoKZnVuY3Rpb24gaXNMb2NhbGVBZGFwdGVyKHgpIHsKICByZXR1cm4gISF4ICYmIHguaGFzT3duUHJvcGVydHkoJ2dldFNjb3BlJykgJiYgeC5oYXNPd25Qcm9wZXJ0eSgnY3JlYXRlU2NvcGUnKSAmJiB4Lmhhc093blByb3BlcnR5KCdjcmVhdGVSb290Jyk7Cn0KCmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVMb2NhbGVBZGFwdGVyKGFwcCwgb3B0aW9ucykgewogIGNvbnN0IGFkYXB0ZXIgPSBpc0xvY2FsZUFkYXB0ZXIob3B0aW9ucykgPyBvcHRpb25zIDogY3JlYXRlRGVmYXVsdExvY2FsZUFkYXB0ZXIob3B0aW9ucyk7CiAgY29uc3Qgcm9vdEluc3RhbmNlID0gYWRhcHRlci5jcmVhdGVSb290KGFwcCk7CiAgcmV0dXJuIHsKICAgIGFkYXB0ZXIsCiAgICByb290SW5zdGFuY2UKICB9Owp9CmNvbnN0IExBTkdfUFJFRklYID0gJyR2dWV0aWZ5Lic7Cgpjb25zdCByZXBsYWNlID0gKHN0ciwgcGFyYW1zKSA9PiB7CiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9ceyhcZCspXH0vZywgKG1hdGNoLCBpbmRleCkgPT4gewogICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi8KICAgIHJldHVybiBTdHJpbmcocGFyYW1zWytpbmRleF0pOwogIH0pOwp9OwoKY29uc3QgY3JlYXRlVHJhbnNsYXRlRnVuY3Rpb24gPSAoY3VycmVudCwgZmFsbGJhY2ssIG1lc3NhZ2VzKSA9PiB7CiAgcmV0dXJuIChrZXksIC4uLnBhcmFtcykgPT4gewogICAgaWYgKCFrZXkuc3RhcnRzV2l0aChMQU5HX1BSRUZJWCkpIHsKICAgICAgcmV0dXJuIHJlcGxhY2Uoa2V5LCBwYXJhbXMpOwogICAgfQoKICAgIGNvbnN0IHNob3J0S2V5ID0ga2V5LnJlcGxhY2UoTEFOR19QUkVGSVgsICcnKTsKICAgIGNvbnN0IGN1cnJlbnRMb2NhbGUgPSBjdXJyZW50LnZhbHVlICYmIG1lc3NhZ2VzLnZhbHVlW2N1cnJlbnQudmFsdWVdOwogICAgY29uc3QgZmFsbGJhY2tMb2NhbGUgPSBmYWxsYmFjay52YWx1ZSAmJiBtZXNzYWdlcy52YWx1ZVtmYWxsYmFjay52YWx1ZV07CiAgICBsZXQgc3RyID0gZ2V0T2JqZWN0VmFsdWVCeVBhdGgoY3VycmVudExvY2FsZSwgc2hvcnRLZXksIG51bGwpOwoKICAgIGlmICghc3RyKSB7CiAgICAgIGNvbnNvbGVXYXJuKGBUcmFuc2xhdGlvbiBrZXkgIiR7a2V5fSIgbm90IGZvdW5kIGluICIke2N1cnJlbnQudmFsdWV9IiwgdHJ5aW5nIGZhbGxiYWNrIGxvY2FsZWApOwogICAgICBzdHIgPSBnZXRPYmplY3RWYWx1ZUJ5UGF0aChmYWxsYmFja0xvY2FsZSwgc2hvcnRLZXksIG51bGwpOwogICAgfQoKICAgIGlmICghc3RyKSB7CiAgICAgIGNvbnNvbGVFcnJvcihgVHJhbnNsYXRpb24ga2V5ICIke2tleX0iIG5vdCBmb3VuZCBpbiBmYWxsYmFja2ApOwogICAgICBzdHIgPSBrZXk7CiAgICB9CgogICAgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKSB7CiAgICAgIGNvbnNvbGVFcnJvcihgVHJhbnNsYXRpb24ga2V5ICIke2tleX0iIGhhcyBhIG5vbi1zdHJpbmcgdmFsdWVgKTsKICAgICAgc3RyID0ga2V5OwogICAgfQoKICAgIHJldHVybiByZXBsYWNlKHN0ciwgcGFyYW1zKTsKICB9Owp9OwoKZnVuY3Rpb24gY3JlYXRlTnVtYmVyRnVuY3Rpb24oY3VycmVudCwgZmFsbGJhY2spIHsKICByZXR1cm4gKHZhbHVlLCBvcHRpb25zKSA9PiB7CiAgICBjb25zdCBudW1iZXJGb3JtYXQgPSBuZXcgSW50bC5OdW1iZXJGb3JtYXQoW2N1cnJlbnQudmFsdWUsIGZhbGxiYWNrLnZhbHVlXSwgb3B0aW9ucyk7CiAgICByZXR1cm4gbnVtYmVyRm9ybWF0LmZvcm1hdCh2YWx1ZSk7CiAgfTsKfQoKZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURlZmF1bHRMb2NhbGVBZGFwdGVyKG9wdGlvbnMpIHsKICBjb25zdCBjcmVhdGVTY29wZSA9IG9wdGlvbnMgPT4gewogICAgY29uc3QgY3VycmVudCA9IHdyYXBJblJlZihvcHRpb25zLmN1cnJlbnQpOwogICAgY29uc3QgZmFsbGJhY2sgPSB3cmFwSW5SZWYob3B0aW9ucy5mYWxsYmFjayk7CiAgICBjb25zdCBtZXNzYWdlcyA9IHdyYXBJblJlZihvcHRpb25zLm1lc3NhZ2VzKTsKICAgIHJldHVybiB7CiAgICAgIGN1cnJlbnQsCiAgICAgIGZhbGxiYWNrLAogICAgICBtZXNzYWdlcywKICAgICAgdDogY3JlYXRlVHJhbnNsYXRlRnVuY3Rpb24oY3VycmVudCwgZmFsbGJhY2ssIG1lc3NhZ2VzKSwKICAgICAgbjogY3JlYXRlTnVtYmVyRnVuY3Rpb24oY3VycmVudCwgZmFsbGJhY2spCiAgICB9OwogIH07CgogIHJldHVybiB7CiAgICBjcmVhdGVSb290OiBhcHAgPT4gewogICAgICB2YXIgX29wdGlvbnMkZGVmYXVsdExvY2FsLCBfb3B0aW9ucyRmYWxsYmFja0xvY2EsIF9vcHRpb25zJG1lc3NhZ2VzOwoKICAgICAgY29uc3Qgcm9vdFNjb3BlID0gY3JlYXRlU2NvcGUoewogICAgICAgIGN1cnJlbnQ6IChfb3B0aW9ucyRkZWZhdWx0TG9jYWwgPSBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmRlZmF1bHRMb2NhbGUpICE9IG51bGwgPyBfb3B0aW9ucyRkZWZhdWx0TG9jYWwgOiAnZW4nLAogICAgICAgIGZhbGxiYWNrOiAoX29wdGlvbnMkZmFsbGJhY2tMb2NhID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5mYWxsYmFja0xvY2FsZSkgIT0gbnVsbCA/IF9vcHRpb25zJGZhbGxiYWNrTG9jYSA6ICdlbicsCiAgICAgICAgbWVzc2FnZXM6IChfb3B0aW9ucyRtZXNzYWdlcyA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMubWVzc2FnZXMpICE9IG51bGwgPyBfb3B0aW9ucyRtZXNzYWdlcyA6IHsKICAgICAgICAgIGVuCiAgICAgICAgfQogICAgICB9KTsKICAgICAgYXBwLnByb3ZpZGUoVnVldGlmeUxvY2FsZVN5bWJvbCwgcm9vdFNjb3BlKTsKICAgICAgcmV0dXJuIHJvb3RTY29wZTsKICAgIH0sCiAgICBnZXRTY29wZTogKCkgPT4gewogICAgICBjb25zdCBjdXJyZW50U2NvcGUgPSBpbmplY3QoVnVldGlmeUxvY2FsZVN5bWJvbCk7CiAgICAgIGlmICghY3VycmVudFNjb3BlKSB0aHJvdyBuZXcgRXJyb3IoJ1tWdWV0aWZ5XSBDb3VsZCBub3QgZmluZCBpbmplY3RlZCBsb2NhbGUgaW5zdGFuY2UnKTsKICAgICAgcmV0dXJuIGN1cnJlbnRTY29wZTsKICAgIH0sCiAgICBjcmVhdGVTY29wZTogb3B0aW9ucyA9PiB7CiAgICAgIGNvbnN0IGN1cnJlbnRTY29wZSA9IGluamVjdChWdWV0aWZ5TG9jYWxlU3ltYm9sKTsKICAgICAgaWYgKCFjdXJyZW50U2NvcGUpIHRocm93IG5ldyBFcnJvcignW1Z1ZXRpZnldIENvdWxkIG5vdCBmaW5kIGluamVjdGVkIGxvY2FsZSBpbnN0YW5jZScpOwogICAgICBjb25zdCBuZXdTY29wZSA9IGNyZWF0ZVNjb3BlKHsKICAgICAgICBjdXJyZW50OiBjb21wdXRlZCgoKSA9PiB7CiAgICAgICAgICB2YXIgX29wdGlvbnMkbG9jYWxlOwoKICAgICAgICAgIHJldHVybiAoX29wdGlvbnMkbG9jYWxlID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5sb2NhbGUpICE9IG51bGwgPyBfb3B0aW9ucyRsb2NhbGUgOiBjdXJyZW50U2NvcGUuY3VycmVudC52YWx1ZTsKICAgICAgICB9KSwKICAgICAgICBmYWxsYmFjazogY29tcHV0ZWQoKCkgPT4gewogICAgICAgICAgdmFyIF9vcHRpb25zJGxvY2FsZTI7CgogICAgICAgICAgcmV0dXJuIChfb3B0aW9ucyRsb2NhbGUyID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5sb2NhbGUpICE9IG51bGwgPyBfb3B0aW9ucyRsb2NhbGUyIDogY3VycmVudFNjb3BlLmZhbGxiYWNrLnZhbHVlOwogICAgICAgIH0pLAogICAgICAgIG1lc3NhZ2VzOiBjb21wdXRlZCgoKSA9PiB7CiAgICAgICAgICB2YXIgX29wdGlvbnMkbWVzc2FnZXMyOwoKICAgICAgICAgIHJldHVybiAoX29wdGlvbnMkbWVzc2FnZXMyID0gb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5tZXNzYWdlcykgIT0gbnVsbCA/IF9vcHRpb25zJG1lc3NhZ2VzMiA6IGN1cnJlbnRTY29wZS5tZXNzYWdlcy52YWx1ZTsKICAgICAgICB9KQogICAgICB9KTsKICAgICAgcHJvdmlkZShWdWV0aWZ5TG9jYWxlU3ltYm9sLCBuZXdTY29wZSk7CiAgICAgIHJldHVybiBuZXdTY29wZTsKICAgIH0KICB9Owp9"},{"version":3,"sources":["../../src/composables/locale.ts"],"names":["consoleError","consoleWarn","getObjectValueByPath","wrapInRef","en","LocaleAdapterSymbol","Symbol","VuetifyLocaleSymbol","adapter","inject","x","isLocaleAdapter","createDefaultLocaleAdapter","rootInstance","LANG_PREFIX","replace","String","params","createTranslateFunction","key","shortKey","currentLocale","current","messages","fallbackLocale","fallback","str","value","numberFormat","Intl","createScope","options","t","n","createNumberFunction","createRoot","app","rootScope","getScope","currentScope","newScope","computed","provide"],"mappings":"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","sourcesContent":["import { computed, inject, provide } from 'vue'\nimport { consoleError, consoleWarn, getObjectValueByPath, wrapInRef } from '@/util'\n\nimport en from '@/locale/en'\n\n// Types\nimport type { App, InjectionKey, Ref } from 'vue'\nimport type { MaybeRef } from '@/util'\n\nexport interface LocaleMessages {\n  [key: string]: LocaleMessages | string\n}\n\nexport interface LocaleOptions {\n  defaultLocale?: string\n  fallbackLocale?: string\n  messages?: LocaleMessages\n}\n\nexport interface LocaleProps {\n  locale?: string\n  fallbackLocale?: string\n  messages?: LocaleMessages\n}\n\nexport interface LocaleInstance {\n  current: Ref<string>\n  fallback: Ref<string>\n  messages: Ref<LocaleMessages>\n  t: (key: string, ...params: unknown[]) => string\n  n: (value: number) => string\n}\n\nexport interface LocaleAdapter {\n  createRoot: (app: App) => LocaleInstance\n  getScope: () => LocaleInstance\n  createScope: (options?: LocaleProps) => LocaleInstance\n}\n\nexport const LocaleAdapterSymbol: InjectionKey<LocaleAdapter> = Symbol.for('vuetify:locale-adapter')\nexport const VuetifyLocaleSymbol: InjectionKey<LocaleInstance> = Symbol.for('vuetify:locale')\n\nexport function provideLocale (props?: LocaleProps) {\n  const adapter = inject(LocaleAdapterSymbol)\n\n  if (!adapter) throw new Error('[Vuetify] Could not find injected locale adapter')\n\n  return adapter.createScope(props)\n}\n\nexport function useLocale () {\n  const adapter = inject(LocaleAdapterSymbol)\n\n  if (!adapter) throw new Error('[Vuetify] Could not find injected locale adapter')\n\n  return adapter.getScope()\n}\n\nfunction isLocaleAdapter (x: any): x is LocaleAdapter {\n  return !!x && x.hasOwnProperty('getScope') && x.hasOwnProperty('createScope') && x.hasOwnProperty('createRoot')\n}\n\nexport function createLocaleAdapter (app: App, options?: LocaleOptions | LocaleAdapter) {\n  const adapter = isLocaleAdapter(options) ? options : createDefaultLocaleAdapter(options)\n\n  const rootInstance = adapter.createRoot(app)\n\n  return { adapter, rootInstance }\n}\n\nconst LANG_PREFIX = '$vuetify.'\n\nconst replace = (str: string, params: unknown[]) => {\n  return str.replace(/\\{(\\d+)\\}/g, (match: string, index: string) => {\n    /* istanbul ignore next */\n    return String(params[+index])\n  })\n}\n\nconst createTranslateFunction = (\n  current: Ref<string>,\n  fallback: Ref<string>,\n  messages: Ref<LocaleMessages>,\n) => {\n  return (key: string, ...params: unknown[]) => {\n    if (!key.startsWith(LANG_PREFIX)) {\n      return replace(key, params)\n    }\n\n    const shortKey = key.replace(LANG_PREFIX, '')\n    const currentLocale = current.value && messages.value[current.value]\n    const fallbackLocale = fallback.value && messages.value[fallback.value]\n\n    let str: string = getObjectValueByPath(currentLocale, shortKey, null)\n\n    if (!str) {\n      consoleWarn(`Translation key \"${key}\" not found in \"${current.value}\", trying fallback locale`)\n      str = getObjectValueByPath(fallbackLocale, shortKey, null)\n    }\n\n    if (!str) {\n      consoleError(`Translation key \"${key}\" not found in fallback`)\n      str = key\n    }\n\n    if (typeof str !== 'string') {\n      consoleError(`Translation key \"${key}\" has a non-string value`)\n      str = key\n    }\n\n    return replace(str, params)\n  }\n}\n\nfunction createNumberFunction (current: Ref<string>, fallback: Ref<string>) {\n  return (value: number, options?: Intl.NumberFormatOptions) => {\n    const numberFormat = new Intl.NumberFormat([current.value, fallback.value], options)\n\n    return numberFormat.format(value)\n  }\n}\n\nexport function createDefaultLocaleAdapter (options?: LocaleOptions): LocaleAdapter {\n  const createScope = (options: {\n    current: MaybeRef<string>\n    fallback: MaybeRef<string>\n    messages: MaybeRef<LocaleMessages>\n  }) => {\n    const current = wrapInRef(options.current)\n    const fallback = wrapInRef(options.fallback)\n    const messages = wrapInRef(options.messages)\n\n    return {\n      current,\n      fallback,\n      messages,\n      t: createTranslateFunction(current, fallback, messages),\n      n: createNumberFunction(current, fallback),\n    }\n  }\n\n  return {\n    createRoot: app => {\n      const rootScope = createScope({\n        current: options?.defaultLocale ?? 'en',\n        fallback: options?.fallbackLocale ?? 'en',\n        messages: options?.messages ?? { en },\n      })\n\n      app.provide(VuetifyLocaleSymbol, rootScope)\n\n      return rootScope\n    },\n    getScope: () => {\n      const currentScope = inject(VuetifyLocaleSymbol)\n\n      if (!currentScope) throw new Error('[Vuetify] Could not find injected locale instance')\n\n      return currentScope\n    },\n    createScope: options => {\n      const currentScope = inject(VuetifyLocaleSymbol)\n\n      if (!currentScope) throw new Error('[Vuetify] Could not find injected locale instance')\n\n      const newScope = createScope({\n        current: computed(() => options?.locale ?? currentScope.current.value),\n        fallback: computed(() => options?.locale ?? currentScope.fallback.value),\n        messages: computed(() => options?.messages ?? currentScope.messages.value),\n      })\n\n      provide(VuetifyLocaleSymbol, newScope)\n\n      return newScope\n    },\n  }\n}\n"]}]}