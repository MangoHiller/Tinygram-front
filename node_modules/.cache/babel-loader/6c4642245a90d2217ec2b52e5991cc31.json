{"remainingRequest":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/thread-loader/dist/cjs.js!/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/babel-loader/lib/index.js!/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/vuetify/lib/composables/theme.mjs","dependencies":[{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/vuetify/lib/composables/theme.mjs","mtime":1668093900332},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/babel.config.js","mtime":1668093862815},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js","mtime":1668093903975},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/thread-loader/dist/cjs.js","mtime":1668093903990},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/babel-loader/lib/index.js","mtime":1668093897906}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIjsKaW1wb3J0IHsgY29sb3JUb0ludCwgY29sb3JUb1JHQiwgY3JlYXRlUmFuZ2UsIGRhcmtlbiwgZ2V0THVtYSwgaW50VG9IZXgsIGxpZ2h0ZW4sIG1lcmdlRGVlcCwgcHJvcHNGYWN0b3J5IH0gZnJvbSAiLi4vdXRpbC9pbmRleC5tanMiOyAvLyBVdGlsaXRpZXMKCmltcG9ydCB7IGNvbXB1dGVkLCBnZXRDdXJyZW50SW5zdGFuY2UsIGluamVjdCwgcHJvdmlkZSwgcmVmLCB3YXRjaCB9IGZyb20gJ3Z1ZSc7IC8vIFR5cGVzCgppbXBvcnQgeyBjb25zb2xlRXJyb3IgfSBmcm9tICIuLi91dGlsL2NvbnNvbGUubWpzIjsKaW1wb3J0IHsgQVBDQWNvbnRyYXN0IH0gZnJvbSAiLi4vdXRpbC9jb2xvci9BUENBLm1qcyI7CmV4cG9ydCBjb25zdCBUaGVtZVN5bWJvbCA9IFN5bWJvbC5mb3IoJ3Z1ZXRpZnk6dGhlbWUnKTsKZXhwb3J0IGNvbnN0IG1ha2VUaGVtZVByb3BzID0gcHJvcHNGYWN0b3J5KHsKICB0aGVtZTogU3RyaW5nCn0sICd0aGVtZScpOwpjb25zdCBkZWZhdWx0VGhlbWVPcHRpb25zID0gewogIGRlZmF1bHRUaGVtZTogJ2xpZ2h0JywKICB2YXJpYXRpb25zOiB7CiAgICBjb2xvcnM6IFtdLAogICAgbGlnaHRlbjogMCwKICAgIGRhcmtlbjogMAogIH0sCiAgdGhlbWVzOiB7CiAgICBsaWdodDogewogICAgICBkYXJrOiBmYWxzZSwKICAgICAgY29sb3JzOiB7CiAgICAgICAgYmFja2dyb3VuZDogJyNGRkZGRkYnLAogICAgICAgIHN1cmZhY2U6ICcjRkZGRkZGJywKICAgICAgICBwcmltYXJ5OiAnIzYyMDBFRScsCiAgICAgICAgJ3ByaW1hcnktZGFya2VuLTEnOiAnIzM3MDBCMycsCiAgICAgICAgc2Vjb25kYXJ5OiAnIzAzREFDNicsCiAgICAgICAgJ3NlY29uZGFyeS1kYXJrZW4tMSc6ICcjMDE4Nzg2JywKICAgICAgICBlcnJvcjogJyNCMDAwMjAnLAogICAgICAgIGluZm86ICcjMjE5NkYzJywKICAgICAgICBzdWNjZXNzOiAnIzRDQUY1MCcsCiAgICAgICAgd2FybmluZzogJyNGQjhDMDAnCiAgICAgIH0sCiAgICAgIHZhcmlhYmxlczogewogICAgICAgICdib3JkZXItY29sb3InOiAnIzAwMDAwMCcsCiAgICAgICAgJ2JvcmRlci1vcGFjaXR5JzogMC4xMiwKICAgICAgICAnaGlnaC1lbXBoYXNpcy1vcGFjaXR5JzogMC44NywKICAgICAgICAnbWVkaXVtLWVtcGhhc2lzLW9wYWNpdHknOiAwLjYwLAogICAgICAgICdkaXNhYmxlZC1vcGFjaXR5JzogMC4zOCwKICAgICAgICAnYWN0aXZhdGVkLW9wYWNpdHknOiAwLjEyLAogICAgICAgICdpZGxlLW9wYWNpdHknOiAwLjA0LAogICAgICAgICdob3Zlci1vcGFjaXR5JzogMC4xMiwKICAgICAgICAnZm9jdXMtb3BhY2l0eSc6IDAuMTIsCiAgICAgICAgJ3NlbGVjdGVkLW9wYWNpdHknOiAwLjA4LAogICAgICAgICdkcmFnZ2VkLW9wYWNpdHknOiAwLjA4LAogICAgICAgICdwcmVzc2VkLW9wYWNpdHknOiAwLjE2LAogICAgICAgICdrYmQtYmFja2dyb3VuZC1jb2xvcic6ICcjMjEyNTI5JywKICAgICAgICAna2JkLWNvbG9yJzogJyNGRkZGRkYnLAogICAgICAgICdjb2RlLWJhY2tncm91bmQtY29sb3InOiAnI0MyQzJDMicKICAgICAgfQogICAgfSwKICAgIGRhcms6IHsKICAgICAgZGFyazogdHJ1ZSwKICAgICAgY29sb3JzOiB7CiAgICAgICAgYmFja2dyb3VuZDogJyMxMjEyMTInLAogICAgICAgIHN1cmZhY2U6ICcjMjEyMTIxJywKICAgICAgICBwcmltYXJ5OiAnI0JCODZGQycsCiAgICAgICAgJ3ByaW1hcnktZGFya2VuLTEnOiAnIzM3MDBCMycsCiAgICAgICAgc2Vjb25kYXJ5OiAnIzAzREFDNScsCiAgICAgICAgJ3NlY29uZGFyeS1kYXJrZW4tMSc6ICcjMDNEQUM1JywKICAgICAgICBlcnJvcjogJyNDRjY2NzknLAogICAgICAgIGluZm86ICcjMjE5NkYzJywKICAgICAgICBzdWNjZXNzOiAnIzRDQUY1MCcsCiAgICAgICAgd2FybmluZzogJyNGQjhDMDAnCiAgICAgIH0sCiAgICAgIHZhcmlhYmxlczogewogICAgICAgICdib3JkZXItY29sb3InOiAnI0ZGRkZGRicsCiAgICAgICAgJ2JvcmRlci1vcGFjaXR5JzogMC4xMiwKICAgICAgICAnaGlnaC1lbXBoYXNpcy1vcGFjaXR5JzogMC44NywKICAgICAgICAnbWVkaXVtLWVtcGhhc2lzLW9wYWNpdHknOiAwLjYwLAogICAgICAgICdkaXNhYmxlZC1vcGFjaXR5JzogMC4zOCwKICAgICAgICAnYWN0aXZhdGVkLW9wYWNpdHknOiAwLjEyLAogICAgICAgICdpZGxlLW9wYWNpdHknOiAwLjEwLAogICAgICAgICdob3Zlci1vcGFjaXR5JzogMC4wNCwKICAgICAgICAnZm9jdXMtb3BhY2l0eSc6IDAuMTIsCiAgICAgICAgJ3NlbGVjdGVkLW9wYWNpdHknOiAwLjA4LAogICAgICAgICdkcmFnZ2VkLW9wYWNpdHknOiAwLjA4LAogICAgICAgICdwcmVzc2VkLW9wYWNpdHknOiAwLjE2LAogICAgICAgICdrYmQtYmFja2dyb3VuZC1jb2xvcic6ICcjMjEyNTI5JywKICAgICAgICAna2JkLWNvbG9yJzogJyNGRkZGRkYnLAogICAgICAgICdjb2RlLWJhY2tncm91bmQtY29sb3InOiAnI0I3QjdCNycKICAgICAgfQogICAgfQogIH0KfTsKCmNvbnN0IHBhcnNlVGhlbWVPcHRpb25zID0gKG9wdGlvbnMgPSBkZWZhdWx0VGhlbWVPcHRpb25zKSA9PiB7CiAgaWYgKCFvcHRpb25zKSByZXR1cm4geyAuLi5kZWZhdWx0VGhlbWVPcHRpb25zLAogICAgaXNEaXNhYmxlZDogdHJ1ZQogIH07CiAgcmV0dXJuIG1lcmdlRGVlcChkZWZhdWx0VGhlbWVPcHRpb25zLCBvcHRpb25zKTsKfTsgLy8gQ29tcG9zYWJsZXMKCgpleHBvcnQgZnVuY3Rpb24gY3JlYXRlVGhlbWUob3B0aW9ucykgewogIGNvbnN0IHBhcnNlZE9wdGlvbnMgPSBwYXJzZVRoZW1lT3B0aW9ucyhvcHRpb25zKTsKICBjb25zdCBzdHlsZUVsID0gcmVmKCk7CiAgY29uc3QgY3VycmVudCA9IHJlZihwYXJzZWRPcHRpb25zLmRlZmF1bHRUaGVtZSk7CiAgY29uc3QgdGhlbWVzID0gcmVmKHBhcnNlZE9wdGlvbnMudGhlbWVzKTsKICBjb25zdCB2YXJpYXRpb25zID0gcmVmKHBhcnNlZE9wdGlvbnMudmFyaWF0aW9ucyk7CiAgY29uc3QgY29tcHV0ZWRUaGVtZXMgPSBjb21wdXRlZCgoKSA9PiB7CiAgICByZXR1cm4gT2JqZWN0LmtleXModGhlbWVzLnZhbHVlKS5yZWR1Y2UoKG9iaiwga2V5KSA9PiB7CiAgICAgIHZhciBfcGFyc2VkT3B0aW9ucyR2YXJpYXQ7CgogICAgICBjb25zdCB0aGVtZSA9IHsgLi4udGhlbWVzLnZhbHVlW2tleV0sCiAgICAgICAgY29sb3JzOiB7IC4uLnRoZW1lcy52YWx1ZVtrZXldLmNvbG9ycywKICAgICAgICAgIC4uLigoX3BhcnNlZE9wdGlvbnMkdmFyaWF0ID0gcGFyc2VkT3B0aW9ucy52YXJpYXRpb25zLmNvbG9ycykgIT0gbnVsbCA/IF9wYXJzZWRPcHRpb25zJHZhcmlhdCA6IFtdKS5yZWR1Y2UoKG9iaiwgY29sb3IpID0+IHsKICAgICAgICAgICAgcmV0dXJuIHsgLi4ub2JqLAogICAgICAgICAgICAgIC4uLmdlbkNvbG9yVmFyaWF0aW9ucyhjb2xvciwgdGhlbWVzLnZhbHVlW2tleV0uY29sb3JzW2NvbG9yXSkKICAgICAgICAgICAgfTsKICAgICAgICAgIH0sIHt9KQogICAgICAgIH0KICAgICAgfTsKCiAgICAgIGZvciAoY29uc3QgY29sb3Igb2YgT2JqZWN0LmtleXModGhlbWUuY29sb3JzKSkgewogICAgICAgIGlmICgvb24tW2Etel0vLnRlc3QoY29sb3IpIHx8IHRoZW1lLmNvbG9yc1tgb24tJHtjb2xvcn1gXSkgY29udGludWU7CiAgICAgICAgY29uc3Qgb25Db2xvciA9IGBvbi0ke2NvbG9yfWA7CiAgICAgICAgY29uc3QgY29sb3JWYWwgPSBjb2xvclRvSW50KHRoZW1lLmNvbG9yc1tjb2xvcl0pOwogICAgICAgIGNvbnN0IGJsYWNrQ29udHJhc3QgPSBNYXRoLmFicyhBUENBY29udHJhc3QoMCwgY29sb3JWYWwpKTsKICAgICAgICBjb25zdCB3aGl0ZUNvbnRyYXN0ID0gTWF0aC5hYnMoQVBDQWNvbnRyYXN0KDB4ZmZmZmZmLCBjb2xvclZhbCkpOyAvLyBUT0RPOiB3YXJuIGFib3V0IHBvb3IgY29sb3Igc2VsZWN0aW9ucwogICAgICAgIC8vIGNvbnN0IGNvbnRyYXN0QXNUZXh0ID0gTWF0aC5hYnMoQVBDQWNvbnRyYXN0KGNvbG9yVmFsLCBjb2xvclRvSW50KHRoZW1lLmNvbG9ycy5iYWNrZ3JvdW5kKSkpCiAgICAgICAgLy8gY29uc3QgbWluQ29udHJhc3QgPSBNYXRoLm1heChibGFja0NvbnRyYXN0LCB3aGl0ZUNvbnRyYXN0KQogICAgICAgIC8vIGlmIChtaW5Db250cmFzdCA8IDYwKSB7CiAgICAgICAgLy8gICBjb25zb2xlSW5mbyhgJHtrZXl9IHRoZW1lIGNvbG9yICR7Y29sb3J9IGhhcyBwb29yIGNvbnRyYXN0ICgke21pbkNvbnRyYXN0LnRvRml4ZWQoKX0lKWApCiAgICAgICAgLy8gfSBlbHNlIGlmIChjb250cmFzdEFzVGV4dCA8IDYwICYmICFbJ2JhY2tncm91bmQnLCAnc3VyZmFjZSddLmluY2x1ZGVzKGNvbG9yKSkgewogICAgICAgIC8vICAgY29uc29sZUluZm8oYCR7a2V5fSB0aGVtZSBjb2xvciAke2NvbG9yfSBoYXMgcG9vciBjb250cmFzdCBhcyB0ZXh0ICgke2NvbnRyYXN0QXNUZXh0LnRvRml4ZWQoKX0lKWApCiAgICAgICAgLy8gfQogICAgICAgIC8vIFByZWZlciB3aGl0ZSB0ZXh0IGlmIGJvdGggaGF2ZSBhbiBhY2NlcHRhYmxlIGNvbnRyYXN0IHJhdGlvCgogICAgICAgIHRoZW1lLmNvbG9yc1tvbkNvbG9yXSA9IHdoaXRlQ29udHJhc3QgPiBNYXRoLm1pbihibGFja0NvbnRyYXN0LCA1MCkgPyAnI2ZmZicgOiAnIzAwMCc7CiAgICAgIH0KCiAgICAgIG9ialtrZXldID0gdGhlbWU7CiAgICAgIHJldHVybiBvYmo7CiAgICB9LCB7fSk7CiAgfSk7CgogIGZ1bmN0aW9uIGdlbkNvbG9yVmFyaWF0aW9ucyhuYW1lLCBjb2xvcikgewogICAgY29uc3Qgb2JqID0ge307CgogICAgZm9yIChjb25zdCB2YXJpYXRpb24gb2YgWydsaWdodGVuJywgJ2RhcmtlbiddKSB7CiAgICAgIGNvbnN0IGZuID0gdmFyaWF0aW9uID09PSAnbGlnaHRlbicgPyBsaWdodGVuIDogZGFya2VuOwoKICAgICAgZm9yIChjb25zdCBhbW91bnQgb2YgY3JlYXRlUmFuZ2UodmFyaWF0aW9ucy52YWx1ZVt2YXJpYXRpb25dLCAxKSkgewogICAgICAgIG9ialtgJHtuYW1lfS0ke3ZhcmlhdGlvbn0tJHthbW91bnR9YF0gPSBpbnRUb0hleChmbihjb2xvclRvSW50KGNvbG9yKSwgYW1vdW50KSk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gb2JqOwogIH0KCiAgZnVuY3Rpb24gZ2VuQ3NzVmFyaWFibGVzKG5hbWUpIHsKICAgIGNvbnN0IHRoZW1lID0gY29tcHV0ZWRUaGVtZXMudmFsdWVbbmFtZV07CiAgICBpZiAoIXRoZW1lKSB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBmaW5kIHRoZW1lICR7bmFtZX1gKTsKICAgIGNvbnN0IGxpZ2h0T3ZlcmxheSA9IHRoZW1lLmRhcmsgPyAyIDogMTsKICAgIGNvbnN0IGRhcmtPdmVybGF5ID0gdGhlbWUuZGFyayA/IDEgOiAyOwogICAgY29uc3QgdmFyaWFibGVzID0gW107CgogICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModGhlbWUuY29sb3JzKSkgewogICAgICBjb25zdCByZ2IgPSBjb2xvclRvUkdCKHZhbHVlKTsKICAgICAgdmFyaWFibGVzLnB1c2goYC0tdi10aGVtZS0ke2tleX06ICR7cmdiLnJ9LCR7cmdiLmd9LCR7cmdiLmJ9YCk7CgogICAgICBpZiAoIWtleS5zdGFydHNXaXRoKCdvbi0nKSkgewogICAgICAgIHZhcmlhYmxlcy5wdXNoKGAtLXYtdGhlbWUtJHtrZXl9LW92ZXJsYXktbXVsdGlwbGllcjogJHtnZXRMdW1hKHZhbHVlKSA+IDAuMTggPyBsaWdodE92ZXJsYXkgOiBkYXJrT3ZlcmxheX1gKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiB2YXJpYWJsZXM7CiAgfQoKICBmdW5jdGlvbiBnZW5TdHlsZUVsZW1lbnQoKSB7CiAgICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJyB8fCBzdHlsZUVsLnZhbHVlKSByZXR1cm47CiAgICBjb25zdCBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CiAgICBlbC50eXBlID0gJ3RleHQvY3NzJzsKICAgIGVsLmlkID0gJ3Z1ZXRpZnktdGhlbWUtc3R5bGVzaGVldCc7CiAgICBzdHlsZUVsLnZhbHVlID0gZWw7CiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlRWwudmFsdWUpOwogIH0KCiAgZnVuY3Rpb24gY3JlYXRlQ3NzQ2xhc3Moc2VsZWN0b3IsIGNvbnRlbnQpIHsKICAgIHJldHVybiBbYCR7c2VsZWN0b3J9IHtcbmAsIC4uLmNvbnRlbnQubWFwKGxpbmUgPT4gYCAgJHtsaW5lfTtcbmApLCAnfVxuJ107CiAgfQoKICBmdW5jdGlvbiB1cGRhdGVTdHlsZXMoKSB7CiAgICBpZiAocGFyc2VkT3B0aW9ucy5pc0Rpc2FibGVkKSByZXR1cm47CiAgICBnZW5TdHlsZUVsZW1lbnQoKTsKICAgIGNvbnN0IGxpbmVzID0gW107CgogICAgZm9yIChjb25zdCB0aGVtZU5hbWUgb2YgT2JqZWN0LmtleXMoY29tcHV0ZWRUaGVtZXMudmFsdWUpKSB7CiAgICAgIGNvbnN0IHZhcmlhYmxlcyA9IGNvbXB1dGVkVGhlbWVzLnZhbHVlW3RoZW1lTmFtZV0udmFyaWFibGVzOwogICAgICBsaW5lcy5wdXNoKC4uLmNyZWF0ZUNzc0NsYXNzKGAudi10aGVtZS0tJHt0aGVtZU5hbWV9YCwgWy4uLmdlbkNzc1ZhcmlhYmxlcyh0aGVtZU5hbWUpLCAuLi5PYmplY3Qua2V5cyh2YXJpYWJsZXMpLm1hcChrZXkgPT4gewogICAgICAgIGNvbnN0IHZhbHVlID0gdmFyaWFibGVzW2tleV07CiAgICAgICAgY29uc3QgY29sb3IgPSB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlLnN0YXJ0c1dpdGgoJyMnKSA/IGNvbG9yVG9SR0IodmFsdWUpIDogdW5kZWZpbmVkOwogICAgICAgIGNvbnN0IHJnYiA9IGNvbG9yID8gYCR7Y29sb3Iucn0sICR7Y29sb3IuZ30sICR7Y29sb3IuYn1gIDogdW5kZWZpbmVkOwogICAgICAgIHJldHVybiBgLS12LSR7a2V5fTogJHtyZ2IgIT0gbnVsbCA/IHJnYiA6IHZhbHVlfWA7CiAgICAgIH0pXSkpOwogICAgfSAvLyBBc3N1bXB0aW9uIGlzIHRoYXQgYWxsIHRoZW1lIG9iamVjdHMgaGF2ZSB0aGUgc2FtZSBrZXlzLCBzbyBpdCBkb2Vzbid0IG1hdHRlciB3aGljaCBvbmUKICAgIC8vIHdlIHVzZSBzaW5jZSB0aGUgdmFsdWVzIGFyZSBhbGwgY3NzIHZhcmlhYmxlcy4KCgogICAgY29uc3QgZmlyc3RUaGVtZSA9IE9iamVjdC5rZXlzKGNvbXB1dGVkVGhlbWVzLnZhbHVlKVswXTsKCiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhjb21wdXRlZFRoZW1lcy52YWx1ZVtmaXJzdFRoZW1lXS5jb2xvcnMpKSB7CiAgICAgIGlmICgvb24tW2Etel0vLnRlc3Qoa2V5KSkgewogICAgICAgIGxpbmVzLnB1c2goLi4uY3JlYXRlQ3NzQ2xhc3MoYC4ke2tleX1gLCBbYGNvbG9yOiByZ2IodmFyKC0tdi10aGVtZS0ke2tleX0pKWBdKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbGluZXMucHVzaCguLi5jcmVhdGVDc3NDbGFzcyhgLmJnLSR7a2V5fWAsIFtgLS12LXRoZW1lLW92ZXJsYXktbXVsdGlwbGllcjogdmFyKC0tdi10aGVtZS0ke2tleX0tb3ZlcmxheS1tdWx0aXBsaWVyKWAsIGBiYWNrZ3JvdW5kOiByZ2IodmFyKC0tdi10aGVtZS0ke2tleX0pKWAsIGBjb2xvcjogcmdiKHZhcigtLXYtdGhlbWUtb24tJHtrZXl9KSlgXSksIC4uLmNyZWF0ZUNzc0NsYXNzKGAudGV4dC0ke2tleX1gLCBbYGNvbG9yOiByZ2IodmFyKC0tdi10aGVtZS0ke2tleX0pKWBdKSwgLi4uY3JlYXRlQ3NzQ2xhc3MoYC5ib3JkZXItJHtrZXl9YCwgW2AtLXYtYm9yZGVyLWNvbG9yOiB2YXIoLS12LXRoZW1lLSR7a2V5fSlgXSkpOwogICAgICB9CiAgICB9CgogICAgaWYgKHN0eWxlRWwudmFsdWUpIHN0eWxlRWwudmFsdWUuaW5uZXJIVE1MID0gbGluZXMubWFwKChzdHIsIGkpID0+IGkgPT09IDAgPyBzdHIgOiBgICAgICR7c3RyfWApLmpvaW4oJycpOwogIH0KCiAgd2F0Y2godGhlbWVzLCB1cGRhdGVTdHlsZXMsIHsKICAgIGRlZXA6IHRydWUsCiAgICBpbW1lZGlhdGU6IHRydWUKICB9KTsKICByZXR1cm4gewogICAgaXNEaXNhYmxlZDogcGFyc2VkT3B0aW9ucy5pc0Rpc2FibGVkLAogICAgdGhlbWVzOiBjb21wdXRlZFRoZW1lcywKICAgIHNldFRoZW1lOiAoa2V5LCB0aGVtZSkgPT4gdGhlbWVzLnZhbHVlW2tleV0gPSB0aGVtZSwKICAgIGdldFRoZW1lOiBrZXkgPT4gY29tcHV0ZWRUaGVtZXMudmFsdWVba2V5XSwKICAgIGN1cnJlbnQsCiAgICB0aGVtZUNsYXNzZXM6IGNvbXB1dGVkKCgpID0+IHBhcnNlZE9wdGlvbnMuaXNEaXNhYmxlZCA/IHVuZGVmaW5lZCA6IGB2LXRoZW1lLS0ke2N1cnJlbnQudmFsdWV9YCkKICB9Owp9Ci8qKgogKiBVc2VkIHRvIGVpdGhlciBzZXQgdXAgYW5kIHByb3ZpZGUgYSBuZXcgdGhlbWUgaW5zdGFuY2UsIG9yIHRvIHBhc3MKICogYWxvbmcgdGhlIGNsb3Nlc3QgYXZhaWxhYmxlIGFscmVhZHkgcHJvdmlkZWQgaW5zdGFuY2UuCiAqLwoKZXhwb3J0IGZ1bmN0aW9uIHVzZVRoZW1lKHByb3BzKSB7CiAgY29uc3Qgdm0gPSBnZXRDdXJyZW50SW5zdGFuY2UoKTsKICBjb25zdCB0aGVtZSA9IGluamVjdChUaGVtZVN5bWJvbCwgbnVsbCk7CiAgaWYgKCF2bSkgY29uc29sZUVycm9yKCdwcm92aWRlVGhlbWUgbXVzdCBiZSBjYWxsZWQgZnJvbSBpbnNpZGUgYSBzZXR1cCBmdW5jdGlvbicpOwogIGlmICghdGhlbWUpIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGZpbmQgVnVldGlmeSB0aGVtZSBpbmplY3Rpb24nKTsKICBjb25zdCBjdXJyZW50ID0gY29tcHV0ZWQoKCkgPT4gewogICAgdmFyIF9wcm9wcyR0aGVtZTsKCiAgICByZXR1cm4gKF9wcm9wcyR0aGVtZSA9IHByb3BzLnRoZW1lKSAhPSBudWxsID8gX3Byb3BzJHRoZW1lIDogdGhlbWUgPT0gbnVsbCA/IHZvaWQgMCA6IHRoZW1lLmN1cnJlbnQudmFsdWU7CiAgfSk7CiAgY29uc3QgdGhlbWVDbGFzc2VzID0gY29tcHV0ZWQoKCkgPT4gdGhlbWUuaXNEaXNhYmxlZCA/IHVuZGVmaW5lZCA6IGB2LXRoZW1lLS0ke2N1cnJlbnQudmFsdWV9YCk7CiAgY29uc3QgbmV3VGhlbWUgPSB7IC4uLnRoZW1lLAogICAgY3VycmVudCwKICAgIHRoZW1lQ2xhc3NlcwogIH07CiAgcHJvdmlkZShUaGVtZVN5bWJvbCwgbmV3VGhlbWUpOwogIHJldHVybiBuZXdUaGVtZTsKfQ=="},{"version":3,"sources":["../../src/composables/theme.ts"],"names":["colorToInt","colorToRGB","createRange","darken","getLuma","intToHex","lighten","mergeDeep","propsFactory","consoleError","APCAcontrast","ThemeSymbol","Symbol","makeThemeProps","theme","String","defaultThemeOptions","defaultTheme","variations","colors","themes","light","dark","background","surface","primary","secondary","error","info","success","warning","variables","parseThemeOptions","options","isDisabled","parsedOptions","styleEl","ref","current","computedThemes","computed","genColorVariations","Object","color","onColor","colorVal","blackContrast","Math","whiteContrast","obj","fn","variation","name","amount","lightOverlay","darkOverlay","rgb","key","r","g","b","el","document","selector","content","line","genStyleElement","lines","createCssClass","themeName","genCssVariables","value","firstTheme","i","str","watch","deep","immediate","setTheme","getTheme","themeClasses","vm","getCurrentInstance","inject","props","newTheme","provide"],"mappings":"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","sourcesContent":["import {\n  colorToInt,\n  colorToRGB,\n  createRange,\n  darken,\n  getLuma,\n  intToHex,\n  lighten,\n  mergeDeep,\n  propsFactory,\n} from '@/util'\n// Utilities\nimport { computed, getCurrentInstance, inject, provide, ref, watch } from 'vue'\n\n// Types\nimport type { InjectionKey, Ref } from 'vue'\nimport { consoleError } from '@/util/console'\nimport { APCAcontrast } from '@/util/color/APCA'\n\ninterface BaseColors {\n  background: string\n  surface: string\n  primary: string\n  secondary: string\n  success: string\n  warning: string\n  error: string\n  info: string\n}\n\ninterface OnColors {\n  'on-background': string\n  'on-surface': string\n  'on-primary': string\n  'on-secondary': string\n  'on-success': string\n  'on-warning': string\n  'on-error': string\n  'on-info': string\n}\n\ninterface Colors extends BaseColors, OnColors {\n  [key: string]: string\n}\n\ninterface InternalThemeDefinition {\n  dark: boolean\n  colors: Colors\n  variables: Record<string, string | number>\n}\n\ninterface ThemeDefinitionColors extends BaseColors, Partial<OnColors> {\n  [key: string]: string | undefined\n}\n\nexport interface ThemeDefinition {\n  dark: boolean\n  colors: ThemeDefinitionColors\n  variables: Record<string, string | number>\n}\n\ninterface VariationsOptions {\n  colors: string[]\n  lighten: number\n  darken: number\n}\n\ninterface InternalThemeOptions {\n  isDisabled: boolean\n  defaultTheme: string\n  variations: VariationsOptions\n  themes: Record<string, ThemeDefinition>\n}\n\nexport type ThemeOptions = false | {\n  defaultTheme?: string\n  variations?: false | VariationsOptions\n  themes?: Record<string, ThemeDefinition>\n}\n\nexport interface ThemeInstance {\n  isDisabled: boolean\n  themes: Ref<Record<string, InternalThemeDefinition>>\n  current: Ref<string>\n  themeClasses: Ref<string | undefined>\n  setTheme: (key: string, theme: ThemeDefinition) => void\n  getTheme: (key: string) => InternalThemeDefinition\n}\n\nexport const ThemeSymbol: InjectionKey<ThemeInstance> = Symbol.for('vuetify:theme')\n\nexport const makeThemeProps = propsFactory({\n  theme: String,\n}, 'theme')\n\nconst defaultThemeOptions: ThemeOptions = {\n  defaultTheme: 'light',\n  variations: { colors: [], lighten: 0, darken: 0 },\n  themes: {\n    light: {\n      dark: false,\n      colors: {\n        background: '#FFFFFF',\n        surface: '#FFFFFF',\n        primary: '#6200EE',\n        'primary-darken-1': '#3700B3',\n        secondary: '#03DAC6',\n        'secondary-darken-1': '#018786',\n        error: '#B00020',\n        info: '#2196F3',\n        success: '#4CAF50',\n        warning: '#FB8C00',\n      },\n      variables: {\n        'border-color': '#000000',\n        'border-opacity': 0.12,\n        'high-emphasis-opacity': 0.87,\n        'medium-emphasis-opacity': 0.60,\n        'disabled-opacity': 0.38,\n        'activated-opacity': 0.12,\n        'idle-opacity': 0.04,\n        'hover-opacity': 0.12,\n        'focus-opacity': 0.12,\n        'selected-opacity': 0.08,\n        'dragged-opacity': 0.08,\n        'pressed-opacity': 0.16,\n        'kbd-background-color': '#212529',\n        'kbd-color': '#FFFFFF',\n        'code-background-color': '#C2C2C2',\n      },\n    },\n    dark: {\n      dark: true,\n      colors: {\n        background: '#121212',\n        surface: '#212121',\n        primary: '#BB86FC',\n        'primary-darken-1': '#3700B3',\n        secondary: '#03DAC5',\n        'secondary-darken-1': '#03DAC5',\n        error: '#CF6679',\n        info: '#2196F3',\n        success: '#4CAF50',\n        warning: '#FB8C00',\n      },\n      variables: {\n        'border-color': '#FFFFFF',\n        'border-opacity': 0.12,\n        'high-emphasis-opacity': 0.87,\n        'medium-emphasis-opacity': 0.60,\n        'disabled-opacity': 0.38,\n        'activated-opacity': 0.12,\n        'idle-opacity': 0.10,\n        'hover-opacity': 0.04,\n        'focus-opacity': 0.12,\n        'selected-opacity': 0.08,\n        'dragged-opacity': 0.08,\n        'pressed-opacity': 0.16,\n        'kbd-background-color': '#212529',\n        'kbd-color': '#FFFFFF',\n        'code-background-color': '#B7B7B7',\n      },\n    },\n  },\n}\n\nconst parseThemeOptions = (options: ThemeOptions = defaultThemeOptions): InternalThemeOptions => {\n  if (!options) return { ...defaultThemeOptions, isDisabled: true } as InternalThemeOptions\n\n  return mergeDeep(\n    defaultThemeOptions,\n    options,\n  ) as InternalThemeOptions\n}\n\n// Composables\nexport function createTheme (options?: ThemeOptions): ThemeInstance {\n  const parsedOptions = parseThemeOptions(options)\n  const styleEl = ref<HTMLStyleElement>()\n  const current = ref(parsedOptions.defaultTheme)\n  const themes = ref(parsedOptions.themes)\n  const variations = ref(parsedOptions.variations)\n\n  const computedThemes = computed(() => {\n    return Object.keys(themes.value).reduce((obj, key) => {\n      const theme: ThemeDefinition = {\n        ...themes.value[key],\n        colors: {\n          ...themes.value[key].colors,\n          ...(parsedOptions.variations.colors ?? []).reduce((obj, color) => {\n            return { ...obj, ...genColorVariations(color, themes.value[key].colors[color]!) }\n          }, {}),\n        },\n      }\n\n      for (const color of Object.keys(theme.colors)) {\n        if (/on-[a-z]/.test(color) || theme.colors[`on-${color}`]) continue\n\n        const onColor = `on-${color}` as keyof OnColors\n        const colorVal = colorToInt(theme.colors[color]!)\n\n        const blackContrast = Math.abs(APCAcontrast(0, colorVal))\n        const whiteContrast = Math.abs(APCAcontrast(0xffffff, colorVal))\n\n        // TODO: warn about poor color selections\n        // const contrastAsText = Math.abs(APCAcontrast(colorVal, colorToInt(theme.colors.background)))\n        // const minContrast = Math.max(blackContrast, whiteContrast)\n        // if (minContrast < 60) {\n        //   consoleInfo(`${key} theme color ${color} has poor contrast (${minContrast.toFixed()}%)`)\n        // } else if (contrastAsText < 60 && !['background', 'surface'].includes(color)) {\n        //   consoleInfo(`${key} theme color ${color} has poor contrast as text (${contrastAsText.toFixed()}%)`)\n        // }\n\n        // Prefer white text if both have an acceptable contrast ratio\n        theme.colors[onColor] = whiteContrast > Math.min(blackContrast, 50) ? '#fff' : '#000'\n      }\n\n      obj[key] = theme as InternalThemeDefinition\n\n      return obj\n    }, {} as Record<string, InternalThemeDefinition>)\n  })\n\n  function genColorVariations (name: string, color: string) {\n    const obj: Record<string, string> = {}\n    for (const variation of (['lighten', 'darken'] as const)) {\n      const fn = variation === 'lighten' ? lighten : darken\n      for (const amount of createRange(variations.value[variation], 1)) {\n        obj[`${name}-${variation}-${amount}`] = intToHex(fn(colorToInt(color), amount))\n      }\n    }\n\n    return obj\n  }\n\n  function genCssVariables (name: string) {\n    const theme = computedThemes.value[name]\n\n    if (!theme) throw new Error(`Could not find theme ${name}`)\n\n    const lightOverlay = theme.dark ? 2 : 1\n    const darkOverlay = theme.dark ? 1 : 2\n\n    const variables: string[] = []\n    for (const [key, value] of Object.entries(theme.colors)) {\n      const rgb = colorToRGB(value!)\n      variables.push(`--v-theme-${key}: ${rgb.r},${rgb.g},${rgb.b}`)\n      if (!key.startsWith('on-')) {\n        variables.push(`--v-theme-${key}-overlay-multiplier: ${getLuma(value) > 0.18 ? lightOverlay : darkOverlay}`)\n      }\n    }\n\n    return variables\n  }\n\n  function genStyleElement () {\n    if (typeof document === 'undefined' || styleEl.value) return\n\n    const el = document.createElement('style')\n    el.type = 'text/css'\n    el.id = 'vuetify-theme-stylesheet'\n\n    styleEl.value = el\n    document.head.appendChild(styleEl.value)\n  }\n\n  function createCssClass (selector: string, content: string[]) {\n    return [\n      `${selector} {\\n`,\n      ...content.map(line => `  ${line};\\n`),\n      '}\\n',\n    ]\n  }\n\n  function updateStyles () {\n    if (parsedOptions.isDisabled) return\n\n    genStyleElement()\n\n    const lines = []\n\n    for (const themeName of Object.keys(computedThemes.value)) {\n      const variables = computedThemes.value[themeName].variables\n\n      lines.push(...createCssClass(`.v-theme--${themeName}`, [\n        ...genCssVariables(themeName),\n        ...Object.keys(variables).map(key => {\n          const value = variables[key]\n          const color = typeof value === 'string' && value.startsWith('#') ? colorToRGB(value) : undefined\n          const rgb = color ? `${color.r}, ${color.g}, ${color.b}` : undefined\n\n          return `--v-${key}: ${rgb ?? value}`\n        }),\n      ]))\n    }\n\n    // Assumption is that all theme objects have the same keys, so it doesn't matter which one\n    // we use since the values are all css variables.\n    const firstTheme = Object.keys(computedThemes.value)[0]\n    for (const key of Object.keys(computedThemes.value[firstTheme].colors)) {\n      if (/on-[a-z]/.test(key)) {\n        lines.push(...createCssClass(`.${key}`, [`color: rgb(var(--v-theme-${key}))`]))\n      } else {\n        lines.push(\n          ...createCssClass(`.bg-${key}`, [\n            `--v-theme-overlay-multiplier: var(--v-theme-${key}-overlay-multiplier)`,\n            `background: rgb(var(--v-theme-${key}))`,\n            `color: rgb(var(--v-theme-on-${key}))`,\n          ]),\n          ...createCssClass(`.text-${key}`, [`color: rgb(var(--v-theme-${key}))`]),\n          ...createCssClass(`.border-${key}`, [`--v-border-color: var(--v-theme-${key})`]),\n        )\n      }\n    }\n\n    if (styleEl.value) styleEl.value.innerHTML = lines.map((str, i) => i === 0 ? str : `    ${str}`).join('')\n  }\n\n  watch(themes, updateStyles, { deep: true, immediate: true })\n\n  return {\n    isDisabled: parsedOptions.isDisabled,\n    themes: computedThemes,\n    setTheme: (key: string, theme: ThemeDefinition) => themes.value[key] = theme,\n    getTheme: (key: string) => computedThemes.value[key],\n    current,\n    themeClasses: computed(() => parsedOptions.isDisabled ? undefined : `v-theme--${current.value}`),\n  }\n}\n\n/**\n * Used to either set up and provide a new theme instance, or to pass\n * along the closest available already provided instance.\n */\nexport function useTheme (props: { theme?: string }) {\n  const vm = getCurrentInstance()\n  const theme = inject(ThemeSymbol, null)\n\n  if (!vm) consoleError('provideTheme must be called from inside a setup function')\n  if (!theme) throw new Error('Could not find Vuetify theme injection')\n\n  const current = computed<string>(() => {\n    return props.theme ?? theme?.current.value\n  })\n\n  const themeClasses = computed(() => theme.isDisabled ? undefined : `v-theme--${current.value}`)\n\n  const newTheme: ThemeInstance = {\n    ...theme,\n    current,\n    themeClasses,\n  }\n\n  provide(ThemeSymbol, newTheme)\n\n  return newTheme\n}\n"]}]}