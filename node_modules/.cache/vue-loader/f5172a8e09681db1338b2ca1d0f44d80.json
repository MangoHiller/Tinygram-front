{"remainingRequest":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!/home/hugo_leguillier/tinygram-2022-2023/front/src/App.vue?vue&type=template&id=7ba5bd90&ts=true","dependencies":[{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/src/App.vue","mtime":1668539510241},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/@vue/cli-plugin-typescript/node_modules/cache-loader/dist/cjs.js","mtime":1668093903975},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/babel-loader/lib/index.js","mtime":1668093897906},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/ts-loader/index.js","mtime":1668093913655},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/vue-loader/dist/templateLoader.js","mtime":1668093920179},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/cache-loader/dist/cjs.js","mtime":1668093903975},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/vue-loader/dist/index.js","mtime":1668093920179}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPHYtYXBwPgogICAgPGxheW91dD4KICAgICAgPHJvdXRlci12aWV3IC8+CiAgICA8L2xheW91dD4KICA8L3YtYXBwPgo="},{"version":3,"sources":["/home/hugo_leguillier/tinygram-2022-2023/front/src/App.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/home/hugo_leguillier/tinygram-2022-2023/front/src/App.vue","sourceRoot":"","sourcesContent":["<template>\n  <v-app>\n    <layout>\n      <router-view />\n    </layout>\n  </v-app>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport Layout from './layouts/Layout.vue';\nimport { mapActions } from 'vuex';\n\nexport default defineComponent({\n  components: { Layout },\n  name: 'App',\n\n  mounted() {\n    (this as any).GoogleOAuth = document.createElement('script');\n    (this as any).GoogleOAuth.setAttribute('src', 'https://accounts.google.com/gsi/client');\n    (this as any).GoogleOAuth.defer = true;\n    (this as any).GoogleOAuth.async = true;\n    (this as any).GoogleOAuth.onload = () => (this as any).initGoogleOAuth();\n    document.head.appendChild((this as any).GoogleOAuth);\n\n    if (localStorage.getItem('token')) {\n      try {\n        const token = JSON.parse((localStorage as any).getItem('token'));\n        this.login({ credential: token });\n      } catch (e) {\n        console.error(e);\n      }\n    }\n  },\n\n  methods: {\n    ...mapActions(['login']),\n    initGoogleOAuth() {\n      if (\n        window &&\n        window.google &&\n        window.google.accounts &&\n        !((window as any).document.getElementById('login-button').childNodes.length > 0)\n      ) {\n        window.google.accounts.id.initialize({\n          client_id: '238318403831-upps8pc0cjj0n1nt33r7tl7kfqr3uko1.apps.googleusercontent.com',\n          ux_mode: 'popup',\n          callback: this.login,\n          scope: 'profile email',\n        });\n\n        setTimeout(() => {\n          console.log('Rendering Google Auth button');\n          window.google.accounts.id.renderButton(\n            document.getElementById('login-button'),\n            { theme: 'outline', size: 'large' }, // customization attributes\n          );\n          console.log(\"Button rendered, refresh your browser if you can't see it\");\n        }, 200);\n\n        // window.google.accounts.id.prompt();\n      }\n    },\n  },\n\n  data() {\n    return {\n      GoogleOAuth: null,\n    };\n  },\n});\n</script>\n\n<style></style>\n"]}]}