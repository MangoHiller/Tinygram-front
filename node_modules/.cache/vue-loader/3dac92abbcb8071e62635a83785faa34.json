{"remainingRequest":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!/home/hugo_leguillier/tinygram-2022-2023/front/src/views/Profile.vue?vue&type=style&index=0&id=ced23842&scoped=true&lang=css","dependencies":[{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/src/views/Profile.vue","mtime":1669334560455},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/css-loader/dist/cjs.js","mtime":1668093919371},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/vue-loader/dist/stylePostLoader.js","mtime":1668093920179},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/postcss-loader/dist/cjs.js","mtime":1668093919963},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/cache-loader/dist/cjs.js","mtime":1668093903975},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/vue-loader/dist/index.js","mtime":1668093920179}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiogewogIGNvbG9yOiB3aGl0ZTsKfQoKaDEgewogIHdpZHRoOiAyNDBweDsKICB3aGl0ZS1zcGFjZTogbm93cmFwOwogIG92ZXJmbG93OiBoaWRkZW47CiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7Cn0KCi5hY2NvdW50LXN0YXRzIHNwYW4gewogIG1hcmdpbi1sZWZ0OiAxMnB4OwogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKfQoKLmFjY291bnQtYnV0dG9ucyAudi1idG46OmJlZm9yZSB7CiAgYm94LXNoYWRvdzogbm9uZTsKICBib3JkZXI6IG5vbmU7Cn0KCi5hY2NvdW50LWJ1dHRvbnMgLnYtYnRuIHsKICBjb2xvcjogYmxhY2s7Cn0KCi5hY2NvdW50LWJ1dHRvbnMgLnYtYnRuIC52LWljb24gewogIGNvbG9yOiBibGFjazsKfQoKLmFjY291bnQtcG9zdHMgewogIGRpc3BsYXk6IGdyaWQ7CiAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMSwgMWZyKTsKICBncmlkLWdhcDogMjBweDsKICBwYWRkaW5nOiAyMHB4Owp9CgouYWNjb3VudC1wb3N0cyAudi1jYXJkIHsKICBvYmplY3QtZml0OiBjb3ZlcjsKICB3aWR0aDogMTAwJTsKfQoKQG1lZGlhIChtaW4td2lkdGg6IDYwMHB4KSB7CiAgLmFjY291bnQtcG9zdHMgewogICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMiwgMWZyKTsKICB9CgogIGgxIHsKICAgIHdpZHRoOiA0MDBweDsKICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7CiAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7CiAgfQp9CgpAbWVkaWEgKG1pbi13aWR0aDogOTAwcHgpIHsKICAuYWNjb3VudC1wb3N0cyB7CiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgzLCAxZnIpOwogIH0KfQoKQG1lZGlhIChtaW4td2lkdGg6IDE2MDBweCkgewogIC5hY2NvdW50LXBvc3RzIHsKICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDUsIDFmcik7CiAgfQp9Cg=="},{"version":3,"sources":["/home/hugo_leguillier/tinygram-2022-2023/front/src/views/Profile.vue"],"names":[],"mappings":"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","file":"/home/hugo_leguillier/tinygram-2022-2023/front/src/views/Profile.vue","sourceRoot":"","sourcesContent":["<template>\n  <v-container justify=\"center\" align=\"center\" style=\"margin-top: 12px\">\n    <div\n      v-if=\"user\"\n      class=\"mt-5\"\n      style=\"display: flex; flex-direction: row; align-items: start; justify-content: center\"\n    >\n      <div style=\"display: flex; flex-direction: row; align-items: start\">\n        <img\n          max-height=\"96px\"\n          max-width=\"96px\"\n          :src=\"user.pictureURL\"\n          style=\"border-radius: 50%; height: 96px; width: 96px; border: solid 0.01em black\"\n        />\n      </div>\n      <div class=\"ml-4\" style=\"display: flex; flex-direction: column; align-items: start\">\n        <div style=\"display: flex; flex-direction: column; align-items: start; text-align: start\">\n          <h1 style=\"margin-bottom: -8px\">{{ user.name }}</h1>\n          <span class=\"text-grey-darken-1\">@{{ user.handle }}</span>\n        </div>\n        <div\n          class=\"account-stats mt-2\"\n          style=\"display: flex; flex-direction: row; align-items: center; justify-content: start\"\n        >\n          <div v-if=\"isLoggedIn() && getUser().handle != user.handle\" class=\"account-buttons mr-4\">\n            <v-btn size=\"small\" @click=\"followUser\" :color=\"user.hasFollowed ? 'blue' : 'lightgrey'\">\n              {{ user.hasFollowed ? 'Followed' : 'Follow' }}\n            </v-btn>\n          </div>\n          <v-icon class=\"mr-2\" small>mdi-account-group</v-icon> {{ user.followers }} Follower{{\n            user.followers == 1 ? '' : 's'\n          }}\n        </div>\n      </div>\n    </div>\n\n    <br />\n    <v-divider />\n    <br />\n    <div class=\"account-posts\">\n      <ProfilePost v-for=\"post in posts\" :key=\"post.id\" :data=\"post\" />\n    </div>\n  </v-container>\n</template>\n\n<style scoped>\n* {\n  color: white;\n}\n\nh1 {\n  width: 240px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.account-stats span {\n  margin-left: 12px;\n  display: inline-block;\n}\n\n.account-buttons .v-btn::before {\n  box-shadow: none;\n  border: none;\n}\n\n.account-buttons .v-btn {\n  color: black;\n}\n\n.account-buttons .v-btn .v-icon {\n  color: black;\n}\n\n.account-posts {\n  display: grid;\n  grid-template-columns: repeat(1, 1fr);\n  grid-gap: 20px;\n  padding: 20px;\n}\n\n.account-posts .v-card {\n  object-fit: cover;\n  width: 100%;\n}\n\n@media (min-width: 600px) {\n  .account-posts {\n    grid-template-columns: repeat(2, 1fr);\n  }\n\n  h1 {\n    width: 400px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n}\n\n@media (min-width: 900px) {\n  .account-posts {\n    grid-template-columns: repeat(3, 1fr);\n  }\n}\n\n@media (min-width: 1600px) {\n  .account-posts {\n    grid-template-columns: repeat(5, 1fr);\n  }\n}\n</style>\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport { mapActions, mapGetters } from 'vuex';\nimport ProfilePost from '@/components/Posts/ProfilePost.vue';\nimport axios from '@/plugins/axios';\n\nexport default defineComponent({\n  name: 'Profile',\n\n  components: {\n    ProfilePost,\n  },\n\n  data() {\n    return {\n      user: {},\n      posts: [] as any,\n    };\n  },\n\n  watch: {\n    $route() {\n      if (this.$route?.params?.profile_handler) {\n        //Update profile on route change\n        this.loadProfile();\n      }\n    },\n  },\n\n  async mounted() {\n    this.loadProfile();\n  },\n\n  methods: {\n    ...mapActions(['login', 'logout']),\n    ...mapGetters(['isLoggedIn', 'getUser']),\n\n    async loadProfile() {\n      this.user = await this.getUserId(this.$route.params.profile_handler as string);\n      this.posts = await this.getUserPosts(this.user);\n    },\n\n    async getUserId(handle: string) {\n      const data = await axios.get(`/users/handle/${handle}`);\n      return data.data;\n    },\n\n    async getUserPosts(user: any) {\n      const data = await axios.get(`/posts?authorId=${user.id}`);\n      return data.data.items;\n    },\n\n    async followUser() {\n      const res = await axios.post(`/follow/${(this as any).user.id}`);\n\n      (this as any).user.hasFollowed = res.data.hasFollowed;\n      (this as any).user.followers = res.data.followers;\n      return true;\n    },\n  },\n});\n</script>\n"]}]}