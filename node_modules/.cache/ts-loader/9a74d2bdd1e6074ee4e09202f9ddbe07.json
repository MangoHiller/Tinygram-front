{"remainingRequest":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/thread-loader/dist/cjs.js!/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/babel-loader/lib/index.js!/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/ts-loader/index.js??clonedRuleSet-42.use[3]!/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!/home/hugo_leguillier/tinygram-2022-2023/front/src/App.vue?vue&type=script&lang=ts","dependencies":[{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/src/App.vue","mtime":1668539510241},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/babel.config.js","mtime":1668093862815},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/@vue/cli-plugin-typescript/node_modules/cache-loader/dist/cjs.js","mtime":1668093903975},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/thread-loader/dist/cjs.js","mtime":1668093903990},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/babel-loader/lib/index.js","mtime":1668093897906},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/ts-loader/index.js","mtime":1668093913655},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/cache-loader/dist/cjs.js","mtime":1668093903975},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/vue-loader/dist/index.js","mtime":1668093920179}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvaHVnb19sZWd1aWxsaWVyL3RpbnlncmFtLTIwMjItMjAyMy9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCBMYXlvdXQgZnJvbSAnLi9sYXlvdXRzL0xheW91dC52dWUnOwppbXBvcnQgeyBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbXBvbmVudCh7CiAgY29tcG9uZW50czogewogICAgTGF5b3V0OiBMYXlvdXQKICB9LAogIG5hbWU6ICdBcHAnLAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMuR29vZ2xlT0F1dGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTsKICAgIHRoaXMuR29vZ2xlT0F1dGguc2V0QXR0cmlidXRlKCdzcmMnLCAnaHR0cHM6Ly9hY2NvdW50cy5nb29nbGUuY29tL2dzaS9jbGllbnQnKTsKICAgIHRoaXMuR29vZ2xlT0F1dGguZGVmZXIgPSB0cnVlOwogICAgdGhpcy5Hb29nbGVPQXV0aC5hc3luYyA9IHRydWU7CgogICAgdGhpcy5Hb29nbGVPQXV0aC5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBfdGhpcy5pbml0R29vZ2xlT0F1dGgoKTsKICAgIH07CgogICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZCh0aGlzLkdvb2dsZU9BdXRoKTsKCiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykpIHsKICAgICAgdHJ5IHsKICAgICAgICB2YXIgdG9rZW4gPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpKTsKICAgICAgICB0aGlzLmxvZ2luKHsKICAgICAgICAgIGNyZWRlbnRpYWw6IHRva2VuCiAgICAgICAgfSk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBjb25zb2xlLmVycm9yKGUpOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoWydsb2dpbiddKSksIHt9LCB7CiAgICBpbml0R29vZ2xlT0F1dGg6IGZ1bmN0aW9uIGluaXRHb29nbGVPQXV0aCgpIHsKICAgICAgaWYgKHdpbmRvdyAmJiB3aW5kb3cuZ29vZ2xlICYmIHdpbmRvdy5nb29nbGUuYWNjb3VudHMgJiYgISh3aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ2luLWJ1dHRvbicpLmNoaWxkTm9kZXMubGVuZ3RoID4gMCkpIHsKICAgICAgICB3aW5kb3cuZ29vZ2xlLmFjY291bnRzLmlkLmluaXRpYWxpemUoewogICAgICAgICAgY2xpZW50X2lkOiAnMjM4MzE4NDAzODMxLXVwcHM4cGMwY2pqMG4xbnQzM3I3dGw3a2ZxcjN1a28xLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tJywKICAgICAgICAgIHV4X21vZGU6ICdwb3B1cCcsCiAgICAgICAgICBjYWxsYmFjazogdGhpcy5sb2dpbiwKICAgICAgICAgIHNjb3BlOiAncHJvZmlsZSBlbWFpbCcKICAgICAgICB9KTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdSZW5kZXJpbmcgR29vZ2xlIEF1dGggYnV0dG9uJyk7CiAgICAgICAgICB3aW5kb3cuZ29vZ2xlLmFjY291bnRzLmlkLnJlbmRlckJ1dHRvbihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW4tYnV0dG9uJyksIHsKICAgICAgICAgICAgdGhlbWU6ICdvdXRsaW5lJywKICAgICAgICAgICAgc2l6ZTogJ2xhcmdlJwogICAgICAgICAgfSk7CiAgICAgICAgICBjb25zb2xlLmxvZygiQnV0dG9uIHJlbmRlcmVkLCByZWZyZXNoIHlvdXIgYnJvd3NlciBpZiB5b3UgY2FuJ3Qgc2VlIGl0Iik7CiAgICAgICAgfSwgMjAwKTsgLy8gd2luZG93Lmdvb2dsZS5hY2NvdW50cy5pZC5wcm9tcHQoKTsKICAgICAgfQogICAgfQogIH0pLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBHb29nbGVPQXV0aDogbnVsbAogICAgfTsKICB9Cn0pOw=="},{"version":3,"sources":["/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!/home/hugo_leguillier/tinygram-2022-2023/front/src/App.vue?vue&type=script&lang=ts"],"names":[],"mappings":";AACA,SAAS,eAAT,QAAgC,KAAhC;AACA,OAAO,MAAP,MAAmB,sBAAnB;AACA,SAAS,UAAT,QAA2B,MAA3B;AAEA,eAAe,eAAe,CAAC;AAC7B,EAAA,UAAU,EAAE;AAAE,IAAA,MAAM,EAAN;AAAF,GADiB;AAE7B,EAAA,IAAI,EAAE,KAFuB;AAI7B,EAAA,OAJ6B,qBAItB;AAAA;;AACJ,SAAa,WAAb,GAA2B,QAAQ,CAAC,aAAT,CAAuB,QAAvB,CAA3B;AACA,SAAa,WAAb,CAAyB,YAAzB,CAAsC,KAAtC,EAA6C,wCAA7C;AACA,SAAa,WAAb,CAAyB,KAAzB,GAAiC,IAAjC;AACA,SAAa,WAAb,CAAyB,KAAzB,GAAiC,IAAjC;;AACA,SAAa,WAAb,CAAyB,MAAzB,GAAkC;AAAA,aAAO,KAAY,CAAC,eAAb,EAAP;AAAA,KAAlC;;AACD,IAAA,QAAQ,CAAC,IAAT,CAAc,WAAd,CAA2B,KAAa,WAAxC;;AAEA,QAAI,YAAY,CAAC,OAAb,CAAqB,OAArB,CAAJ,EAAmC;AACjC,UAAI;AACF,YAAM,KAAK,GAAG,IAAI,CAAC,KAAL,CAAY,YAAoB,CAAC,OAArB,CAA6B,OAA7B,CAAZ,CAAd;AACA,aAAK,KAAL,CAAW;AAAE,UAAA,UAAU,EAAE;AAAd,SAAX;AACD,OAHD,CAGE,OAAO,CAAP,EAAU;AACV,QAAA,OAAO,CAAC,KAAR,CAAc,CAAd;AACD;AACF;AACF,GApB4B;AAsB7B,EAAA,OAAO,kCACF,UAAU,CAAC,CAAC,OAAD,CAAD,CADR;AAEL,IAAA,eAFK,6BAEU;AACb,UACE,MAAM,IACN,MAAM,CAAC,MADP,IAEA,MAAM,CAAC,MAAP,CAAc,QAFd,IAGA,EAAG,MAAc,CAAC,QAAf,CAAwB,cAAxB,CAAuC,cAAvC,EAAuD,UAAvD,CAAkE,MAAlE,GAA2E,CAA9E,CAJF,EAKE;AACA,QAAA,MAAM,CAAC,MAAP,CAAc,QAAd,CAAuB,EAAvB,CAA0B,UAA1B,CAAqC;AACnC,UAAA,SAAS,EAAE,0EADwB;AAEnC,UAAA,OAAO,EAAE,OAF0B;AAGnC,UAAA,QAAQ,EAAE,KAAK,KAHoB;AAInC,UAAA,KAAK,EAAE;AAJ4B,SAArC;AAOA,QAAA,UAAU,CAAC,YAAK;AACd,UAAA,OAAO,CAAC,GAAR,CAAY,8BAAZ;AACA,UAAA,MAAM,CAAC,MAAP,CAAc,QAAd,CAAuB,EAAvB,CAA0B,YAA1B,CACE,QAAQ,CAAC,cAAT,CAAwB,cAAxB,CADF,EAEE;AAAE,YAAA,KAAK,EAAE,SAAT;AAAoB,YAAA,IAAI,EAAE;AAA1B,WAFF;AAIA,UAAA,OAAO,CAAC,GAAR,CAAY,2DAAZ;AACD,SAPS,EAOP,GAPO,CAAV,CARA,CAiBA;AACD;AACF;AA3BI,IAtBsB;AAoD7B,EAAA,IApD6B,kBAoDzB;AACF,WAAO;AACL,MAAA,WAAW,EAAE;AADR,KAAP;AAGD;AAxD4B,CAAD,CAA9B","sourcesContent":["\nimport { defineComponent } from 'vue';\nimport Layout from './layouts/Layout.vue';\nimport { mapActions } from 'vuex';\n\nexport default defineComponent({\n  components: { Layout },\n  name: 'App',\n\n  mounted() {\n    (this as any).GoogleOAuth = document.createElement('script');\n    (this as any).GoogleOAuth.setAttribute('src', 'https://accounts.google.com/gsi/client');\n    (this as any).GoogleOAuth.defer = true;\n    (this as any).GoogleOAuth.async = true;\n    (this as any).GoogleOAuth.onload = () => (this as any).initGoogleOAuth();\n    document.head.appendChild((this as any).GoogleOAuth);\n\n    if (localStorage.getItem('token')) {\n      try {\n        const token = JSON.parse((localStorage as any).getItem('token'));\n        this.login({ credential: token });\n      } catch (e) {\n        console.error(e);\n      }\n    }\n  },\n\n  methods: {\n    ...mapActions(['login']),\n    initGoogleOAuth() {\n      if (\n        window &&\n        window.google &&\n        window.google.accounts &&\n        !((window as any).document.getElementById('login-button').childNodes.length > 0)\n      ) {\n        window.google.accounts.id.initialize({\n          client_id: '238318403831-upps8pc0cjj0n1nt33r7tl7kfqr3uko1.apps.googleusercontent.com',\n          ux_mode: 'popup',\n          callback: this.login,\n          scope: 'profile email',\n        });\n\n        setTimeout(() => {\n          console.log('Rendering Google Auth button');\n          window.google.accounts.id.renderButton(\n            document.getElementById('login-button'),\n            { theme: 'outline', size: 'large' }, // customization attributes\n          );\n          console.log(\"Button rendered, refresh your browser if you can't see it\");\n        }, 200);\n\n        // window.google.accounts.id.prompt();\n      }\n    },\n  },\n\n  data() {\n    return {\n      GoogleOAuth: null,\n    };\n  },\n});\n"],"sourceRoot":""}]}