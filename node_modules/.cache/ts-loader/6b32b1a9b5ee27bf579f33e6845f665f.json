{"remainingRequest":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/thread-loader/dist/cjs.js!/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/babel-loader/lib/index.js!/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/ts-loader/index.js??clonedRuleSet-42.use[3]!/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!/home/hugo_leguillier/tinygram-2022-2023/front/src/views/Home.vue?vue&type=script&lang=ts","dependencies":[{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/src/views/Home.vue","mtime":1669331015601},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/@vue/cli-plugin-typescript/node_modules/cache-loader/dist/cjs.js","mtime":1668093903975},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/thread-loader/dist/cjs.js","mtime":1668093903990},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/babel-loader/lib/index.js","mtime":1668093897906},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/ts-loader/index.js","mtime":1668093913655},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/cache-loader/dist/cjs.js","mtime":1668093903975},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/vue-loader/dist/index.js","mtime":1668093920179},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/babel.config.js","mtime":1668093862815},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/@vue/cli-plugin-typescript/node_modules/cache-loader/dist/cjs.js","mtime":1668093903975},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/thread-loader/dist/cjs.js","mtime":1668093903990},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/babel-loader/lib/index.js","mtime":1668093897906},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/ts-loader/index.js","mtime":1668093913655},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/cache-loader/dist/cjs.js","mtime":1668093903975},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/vue-loader/dist/index.js","mtime":1668093920179}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFNhdGVsbGl0ZSBmcm9tICdAL2NvbXBvbmVudHMvQ3VzdG9tSWNvbi9TYXRlbGxpdGUudnVlJzsKaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IH0gZnJvbSAndnVlJzsKaW1wb3J0IGF4aW9zIGZyb20gJ0AvcGx1Z2lucy9heGlvcyc7CmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IE9ic2VydmF0b3J5IGZyb20gJ0AvY29tcG9uZW50cy9DdXN0b21JY29uL09ic2VydmF0b3J5LnZ1ZSc7CmltcG9ydCBUaW1lbGluZVBvc3QgZnJvbSAnQC9jb21wb25lbnRzL1Bvc3RzL1RpbWVsaW5lUG9zdC52dWUnOwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIG5hbWU6ICdIb21lJywKICBjb21wb25lbnRzOiB7CiAgICBTYXRlbGxpdGUsCiAgICBUaW1lbGluZVBvc3QsCiAgICBPYnNlcnZhdG9yeQogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmaWxlOiBudWxsLAogICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgIGJlZm9yZTogJycsCiAgICAgIGFmdGVyOiAnJywKICAgICAgcG9zdHM6IFtdLAogICAgICB1cGxvYWRpbmc6IGZhbHNlLAogICAgICBmZXRjaGluZzogZmFsc2UKICAgIH07CiAgfSwKCiAgYXN5bmMgbW91bnRlZCgpIHsKICAgIGlmICh0aGlzLmlzTG9nZ2VkSW4oKSkgewogICAgICB2YXIgX2RhdGEkaXRlbXM7CgogICAgICB0aGlzLnJldHJpZXZlVXNlcigpOwogICAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5nZXRQb3N0cygnJyk7CgogICAgICBpZiAoZGF0YSAhPT0gbnVsbCAmJiBkYXRhICE9PSB2b2lkIDAgJiYgKF9kYXRhJGl0ZW1zID0gZGF0YS5pdGVtcykgIT09IG51bGwgJiYgX2RhdGEkaXRlbXMgIT09IHZvaWQgMCAmJiBfZGF0YSRpdGVtcy5sZW5ndGgpIHsKICAgICAgICB0aGlzLnBvc3RzID0gZGF0YS5pdGVtczsKICAgICAgICB0aGlzLmJlZm9yZSA9IGRhdGEucHJldmlvdXM7CiAgICAgICAgdGhpcy5hZnRlciA9IGRhdGEubmV4dDsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKTsKICAgIH0KCiAgICB0aGlzLnNjcm9sbERldGVjdG9yKCk7CiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIHBsYWNlaG9sZGVyVGV4dCgpIHsKICAgICAgY29uc3QgZm9sbG93ZXJDb3VudCA9IHRoaXMuZ2V0VXNlcigpLmZvbGxvd2VyczsKICAgICAgcmV0dXJuIGBTaGFyZSB5b3VyIHRob3VnaHRzIHdpdGggJHtmb2xsb3dlckNvdW50ID4gMCA/ICd5b3VyICcgKyBmb2xsb3dlckNvdW50ICsgJyBmZWxsb3cgYXN0cm9uYXV0JyArIChmb2xsb3dlckNvdW50ID09IDEgPyAnJyA6ICdzJykgKyAnIScgOiAnc3BhY2UhJ31gOwogICAgfQoKICB9LAogIG1ldGhvZHM6IHsgLi4ubWFwR2V0dGVycyhbJ2lzTG9nZ2VkSW4nLCAnZ2V0VXNlciddKSwKICAgIC4uLm1hcEFjdGlvbnMoWydyZXRyaWV2ZVVzZXInXSksCgogICAgdXBkYXRlRmlsZShlKSB7CiAgICAgIHZhciBfZSR0YXJnZXQsIF9lJHRhcmdldCRmaWxlczsKCiAgICAgIGlmIChlICE9PSBudWxsICYmIGUgIT09IHZvaWQgMCAmJiAoX2UkdGFyZ2V0ID0gZS50YXJnZXQpICE9PSBudWxsICYmIF9lJHRhcmdldCAhPT0gdm9pZCAwICYmIChfZSR0YXJnZXQkZmlsZXMgPSBfZSR0YXJnZXQuZmlsZXMpICE9PSBudWxsICYmIF9lJHRhcmdldCRmaWxlcyAhPT0gdm9pZCAwICYmIF9lJHRhcmdldCRmaWxlc1swXSkgewogICAgICAgIHRoaXMuZmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZmlsZSA9IG51bGw7CiAgICAgICAgd2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWxlSW5wdXQnKS52YWx1ZSA9IG51bGw7CiAgICAgIH0KICAgIH0sCgogICAgc2Nyb2xsRGV0ZWN0b3IoKSB7CiAgICAgIHdpbmRvdy5vbnNjcm9sbCA9IGFzeW5jICgpID0+IHsKICAgICAgICBsZXQgYm90dG9tT2ZXaW5kb3cgPSBNYXRoLmNlaWwoTWF0aC5tYXgod2luZG93LnBhZ2VZT2Zmc2V0LCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wLCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCkgKyB3aW5kb3cuaW5uZXJIZWlnaHQpID49IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vZmZzZXRIZWlnaHQ7CgogICAgICAgIGlmIChib3R0b21PZldpbmRvdyAmJiAhdGhpcy5mZXRjaGluZykgewogICAgICAgICAgdGhpcy5mZXRjaGluZyA9IHRydWU7CgogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgdmFyIF9kYXRhJGl0ZW1zMjsKCiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLmdldFBvc3RzKHRoaXMgPT09IG51bGwgfHwgdGhpcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGhpcy5hZnRlcik7CgogICAgICAgICAgICBpZiAoZGF0YSAhPT0gbnVsbCAmJiBkYXRhICE9PSB2b2lkIDAgJiYgKF9kYXRhJGl0ZW1zMiA9IGRhdGEuaXRlbXMpICE9PSBudWxsICYmIF9kYXRhJGl0ZW1zMiAhPT0gdm9pZCAwICYmIF9kYXRhJGl0ZW1zMi5sZW5ndGgpIHsKICAgICAgICAgICAgICAvLyBtZXJnZSAodGhpcyBhcyBhbnkpLnBvc3RzIHdpdGggZGF0YS5pdGVtcwogICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nUG9zdHNJZHMgPSB0aGlzLnBvc3RzLm1hcChwb3N0ID0+IHBvc3QuaWQpOwogICAgICAgICAgICAgIGRhdGEuaXRlbXMgPSBkYXRhLml0ZW1zLmZpbHRlcihuZXdQb3N0ID0+IHsKICAgICAgICAgICAgICAgIHJldHVybiAhZXhpc3RpbmdQb3N0c0lkcy5pbmNsdWRlcyhuZXdQb3N0LmlkKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB0aGlzLnBvc3RzID0gWy4uLnRoaXMucG9zdHMsIC4uLmRhdGEuaXRlbXNdOwogICAgICAgICAgICAgIHRoaXMuYmVmb3JlID0gZGF0YS5wcmV2aW91czsKICAgICAgICAgICAgICB0aGlzLmFmdGVyID0gZGF0YS5uZXh0OwogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGlzLmZldGNoaW5nID0gZmFsc2U7CiAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIHRoaXMuZmV0Y2hpbmcgPSBmYWxzZTsKICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CiAgICB9LAoKICAgIGFzeW5jIGdldFBvc3RzKGFmdGVyKSB7CiAgICAgIHZhciBfcmVzJGRhdGE7CgogICAgICBjb25zdCByZXMgPSBhd2FpdCBheGlvcy5nZXQoYC90aW1lbGluZSR7YWZ0ZXIgPyAnP2FmdGVyPScgKyBhZnRlciA6ICcnfWApOwoKICAgICAgaWYgKHJlcyAhPT0gbnVsbCAmJiByZXMgIT09IHZvaWQgMCAmJiAoX3JlcyRkYXRhID0gcmVzLmRhdGEpICE9PSBudWxsICYmIF9yZXMkZGF0YSAhPT0gdm9pZCAwICYmIF9yZXMkZGF0YS5pdGVtcykgewogICAgICAgIHJldHVybiByZXMgPT09IG51bGwgfHwgcmVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXMuZGF0YTsKICAgICAgfQogICAgfSwKCiAgICBhc3luYyBidWxrQ3JlYXRlUG9zdChjb3VudCkgewogICAgICB0aGlzLmRlc2NyaXB0aW9uID0gYFBvc3RgOwogICAgICBjb25zdCBmaWxlID0gdGhpcy5maWxlOwoKICAgICAgaWYgKHRoaXMuZmlsZSAmJiAodGhpcyA9PT0gbnVsbCB8fCB0aGlzID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0aGlzLmRlc2NyaXB0aW9uLmxlbmd0aCkgPiAwKSB7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7CiAgICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gYFBvc3QgJHtpfWA7CiAgICAgICAgICB0aGlzLmZpbGUgPSBmaWxlOwogICAgICAgICAgYXdhaXQgdGhpcy5jcmVhdGVQb3N0KCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIGFzeW5jIGNyZWF0ZVBvc3QoKSB7CiAgICAgIGlmICh0aGlzLmZpbGUgJiYgKHRoaXMgPT09IG51bGwgfHwgdGhpcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGhpcy5kZXNjcmlwdGlvbi5sZW5ndGgpID4gMCkgewogICAgICAgIHRoaXMudXBsb2FkaW5nID0gdHJ1ZTsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIHZhciBfcG9zdCRkYXRhOwoKICAgICAgICAgIGNvbnN0IHBvc3QgPSBhd2FpdCBheGlvcy5wb3N0KCcvcG9zdHMnLCB7CiAgICAgICAgICAgIGZpbGVOYW1lOiB0aGlzLmZpbGUubmFtZSwKICAgICAgICAgICAgZmlsZVR5cGU6IHRoaXMuZmlsZS50eXBlLAogICAgICAgICAgICBkZXNjcmlwdGlvbjogdGhpcy5kZXNjcmlwdGlvbgogICAgICAgICAgfSk7CgogICAgICAgICAgaWYgKHBvc3QgIT09IG51bGwgJiYgcG9zdCAhPT0gdm9pZCAwICYmIChfcG9zdCRkYXRhID0gcG9zdC5kYXRhKSAhPT0gbnVsbCAmJiBfcG9zdCRkYXRhICE9PSB2b2lkIDAgJiYgX3Bvc3QkZGF0YS51cGxvYWRVUkwpIHsKICAgICAgICAgICAgdmFyIF9wb3N0JGRhdGEyLCBfcG9zdCRkYXRhMywgX2RhdGEkaXRlbXMzOwoKICAgICAgICAgICAgYXdhaXQgZmV0Y2gocG9zdCA9PT0gbnVsbCB8fCBwb3N0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3Bvc3QkZGF0YTIgPSBwb3N0LmRhdGEpID09PSBudWxsIHx8IF9wb3N0JGRhdGEyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcG9zdCRkYXRhMi51cGxvYWRVUkwsIHsKICAgICAgICAgICAgICBtZXRob2Q6ICdQVVQnLAogICAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiB0aGlzLmZpbGUudHlwZQogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgYm9keTogdGhpcy5maWxlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjb25zdCBwdWJsaXNoZWRQb3N0ID0gYXdhaXQgYXhpb3MucG9zdChgL3Bvc3RzLyR7cG9zdCA9PT0gbnVsbCB8fCBwb3N0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3Bvc3QkZGF0YTMgPSBwb3N0LmRhdGEpID09PSBudWxsIHx8IF9wb3N0JGRhdGEzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcG9zdCRkYXRhMy5pZH0vcHVibGlzaGApOwogICAgICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gJyc7CiAgICAgICAgICAgIHRoaXMudXBkYXRlRmlsZShudWxsKTsKICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuZ2V0UG9zdHMoJycpOwoKICAgICAgICAgICAgaWYgKGRhdGEgIT09IG51bGwgJiYgZGF0YSAhPT0gdm9pZCAwICYmIChfZGF0YSRpdGVtczMgPSBkYXRhLml0ZW1zKSAhPT0gbnVsbCAmJiBfZGF0YSRpdGVtczMgIT09IHZvaWQgMCAmJiBfZGF0YSRpdGVtczMubGVuZ3RoKSB7CiAgICAgICAgICAgICAgdGhpcy5wb3N0cyA9IGRhdGEuaXRlbXM7CiAgICAgICAgICAgICAgdGhpcy5iZWZvcmUgPSBkYXRhLnByZXZpb3VzOwogICAgICAgICAgICAgIHRoaXMuYWZ0ZXIgPSBkYXRhLm5leHQ7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMudXBsb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIHJldHVybiBwdWJsaXNoZWRQb3N0OwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIHRoaXMudXBsb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICBjb25zb2xlLmVycm9yKGUpOwogICAgICAgICAgcmV0dXJuIGU7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CiAgICB9CgogIH0KfSk7"},{"version":3,"sources":["/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!/home/hugo_leguillier/tinygram-2022-2023/front/src/views/Home.vue?vue&type=script&lang=ts"],"names":[],"mappings":"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","sourcesContent":["\nimport Satellite from '@/components/CustomIcon/Satellite.vue';\nimport { defineComponent } from 'vue';\nimport axios from '@/plugins/axios';\nimport { mapActions, mapGetters } from 'vuex';\nimport Observatory from '@/components/CustomIcon/Observatory.vue';\nimport TimelinePost from '@/components/Posts/TimelinePost.vue';\n\nexport default defineComponent({\n  name: 'Home',\n\n  components: {\n    Satellite,\n    TimelinePost,\n    Observatory,\n  },\n\n  data() {\n    return {\n      file: null,\n      description: '',\n      before: '',\n      after: '',\n      posts: [],\n      uploading: false,\n      fetching: false,\n    };\n  },\n\n  async mounted() {\n    if ((this as any).isLoggedIn()) {\n      (this as any).retrieveUser();\n      const data = await (this as any).getPosts('');\n\n      if (data?.items?.length) {\n        (this as any).posts = data.items;\n        (this as any).before = data.previous;\n        (this as any).after = data.next;\n      }\n    } else {\n      (this as any).$router.push('/');\n    }\n\n    (this as any).scrollDetector();\n  },\n\n  computed: {\n    placeholderText() {\n      const followerCount = (this as any).getUser().followers;\n      return `Share your thoughts with ${\n        followerCount > 0\n          ? 'your ' + followerCount + ' fellow astronaut' + (followerCount == 1 ? '' : 's') + '!'\n          : 'space!'\n      }`;\n    },\n  },\n\n  methods: {\n    ...mapGetters(['isLoggedIn', 'getUser']),\n    ...mapActions(['retrieveUser']),\n\n    updateFile(e: any) {\n      if (e?.target?.files?.[0]) {\n        (this as any).file = e.target.files[0];\n      } else {\n        (this as any).file = null;\n        (window as any).document.getElementById('fileInput').value = null;\n      }\n    },\n\n    scrollDetector() {\n      window.onscroll = async () => {\n        let bottomOfWindow =\n          Math.ceil(\n            Math.max(window.pageYOffset, document.documentElement.scrollTop, document.body.scrollTop) +\n              window.innerHeight,\n          ) >= document.documentElement.offsetHeight;\n        if (bottomOfWindow && !(this as any).fetching) {\n          (this as any).fetching = true;\n          try {\n            const data = await (this as any).getPosts((this as any)?.after);\n\n            if (data?.items?.length) {\n              // merge (this as any).posts with data.items\n              const existingPostsIds = (this as any).posts.map((post: any) => post.id);\n\n              data.items = data.items.filter((newPost: any) => {\n                return !existingPostsIds.includes(newPost.id);\n              });\n\n              (this as any).posts = [...(this as any).posts, ...data.items];\n              (this as any).before = data.previous;\n              (this as any).after = data.next;\n            }\n\n            (this as any).fetching = false;\n          } catch (e) {\n            (this as any).fetching = false;\n            console.error(e);\n          }\n        }\n      };\n    },\n\n    async getPosts(after: string) {\n      const res = await axios.get(`/timeline${after ? '?after=' + after : ''}`);\n\n      if ((res as any)?.data?.items) {\n        return (res as any)?.data;\n      }\n    },\n\n    async bulkCreatePost(count: number) {\n      (this as any).description = `Post`;\n      const file = (this as any).file;\n\n      if ((this as any).file && (this as any)?.description.length > 0) {\n        for (let i = 0; i < count; i++) {\n          (this as any).description = `Post ${i}`;\n          (this as any).file = file;\n          await (this as any).createPost();\n        }\n      }\n    },\n\n    async createPost() {\n      if ((this as any).file && (this as any)?.description.length > 0) {\n        (this as any).uploading = true;\n        try {\n          const post = await axios.post('/posts', {\n            fileName: (this as any).file.name,\n            fileType: (this as any).file.type,\n            description: (this as any).description,\n          });\n\n          if ((post as any)?.data?.uploadURL) {\n            await fetch((post as any)?.data?.uploadURL, {\n              method: 'PUT', \n              headers: {\n                'Content-Type': (this as any).file.type,               \n              },\n              body: (this as any).file,\n            });\n\n            const publishedPost = await axios.post(`/posts/${(post as any)?.data?.id}/publish`);\n\n            (this as any).description = '';\n            (this as any).updateFile(null);\n\n            const data = await (this as any).getPosts('');\n\n            if (data?.items?.length) {\n              (this as any).posts = data.items;\n              (this as any).before = data.previous;\n              (this as any).after = data.next;\n            }\n\n            (this as any).uploading = false;\n            return publishedPost;\n          }\n        } catch (e) {\n          (this as any).uploading = false;\n          console.error(e);\n          return e;\n        }\n      } else {\n        return null;\n      }\n    },\n  },\n});\n"],"sourceRoot":""}]}