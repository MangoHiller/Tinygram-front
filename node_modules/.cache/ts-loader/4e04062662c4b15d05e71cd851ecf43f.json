{"remainingRequest":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/babel-loader/lib/index.js!/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/ts-loader/index.js??clonedRuleSet-42.use[2]!/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!/home/hugo_leguillier/tinygram-2022-2023/front/src/views/Home.vue?vue&type=script&lang=ts","dependencies":[{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/src/views/Home.vue","mtime":1669404036193},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/babel.config.js","mtime":1668093862815},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/@vue/cli-plugin-typescript/node_modules/cache-loader/dist/cjs.js","mtime":1668093903975},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/babel-loader/lib/index.js","mtime":1668093897906},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/ts-loader/index.js","mtime":1668093913655},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/cache-loader/dist/cjs.js","mtime":1668093903975},{"path":"/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/vue-loader/dist/index.js","mtime":1668093920179}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvaG9tZS9odWdvX2xlZ3VpbGxpZXIvdGlueWdyYW0tMjAyMi0yMDIzL2Zyb250L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL2h1Z29fbGVndWlsbGllci90aW55Z3JhbS0yMDIyLTIwMjMvZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvaHVnb19sZWd1aWxsaWVyL3RpbnlncmFtLTIwMjItMjAyMy9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBTYXRlbGxpdGUgZnJvbSAnQC9jb21wb25lbnRzL0N1c3RvbUljb24vU2F0ZWxsaXRlLnZ1ZSc7CmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCBheGlvcyBmcm9tICdAL3BsdWdpbnMvYXhpb3MnOwppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmltcG9ydCBPYnNlcnZhdG9yeSBmcm9tICdAL2NvbXBvbmVudHMvQ3VzdG9tSWNvbi9PYnNlcnZhdG9yeS52dWUnOwppbXBvcnQgVGltZWxpbmVQb3N0IGZyb20gJ0AvY29tcG9uZW50cy9Qb3N0cy9UaW1lbGluZVBvc3QudnVlJzsKZXhwb3J0IGRlZmF1bHQgZGVmaW5lQ29tcG9uZW50KHsKICBuYW1lOiAnSG9tZScsCiAgY29tcG9uZW50czogewogICAgU2F0ZWxsaXRlOiBTYXRlbGxpdGUsCiAgICBUaW1lbGluZVBvc3Q6IFRpbWVsaW5lUG9zdCwKICAgIE9ic2VydmF0b3J5OiBPYnNlcnZhdG9yeQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZpbGU6IG51bGwsCiAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgYmVmb3JlOiAnJywKICAgICAgYWZ0ZXI6ICcnLAogICAgICBwb3N0czogW10sCiAgICAgIHVwbG9hZGluZzogZmFsc2UsCiAgICAgIGZldGNoaW5nOiBmYWxzZQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBfZGF0YSRpdGVtcywgZGF0YTsKCiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBpZiAoIV90aGlzLmlzTG9nZ2VkSW4oKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF90aGlzLnJldHJpZXZlVXNlcigpOwoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0UG9zdHMoJycpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBpZiAoZGF0YSAhPT0gbnVsbCAmJiBkYXRhICE9PSB2b2lkIDAgJiYgKF9kYXRhJGl0ZW1zID0gZGF0YS5pdGVtcykgIT09IG51bGwgJiYgX2RhdGEkaXRlbXMgIT09IHZvaWQgMCAmJiBfZGF0YSRpdGVtcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgIF90aGlzLnBvc3RzID0gZGF0YS5pdGVtczsKICAgICAgICAgICAgICAgIF90aGlzLmJlZm9yZSA9IGRhdGEucHJldmlvdXM7CiAgICAgICAgICAgICAgICBfdGhpcy5hZnRlciA9IGRhdGEubmV4dDsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgnLycpOwoKICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIF90aGlzLnNjcm9sbERldGVjdG9yKCk7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHBsYWNlaG9sZGVyVGV4dDogZnVuY3Rpb24gcGxhY2Vob2xkZXJUZXh0KCkgewogICAgICB2YXIgZm9sbG93ZXJDb3VudCA9IHRoaXMuZ2V0VXNlcigpLmZvbGxvd2VyczsKICAgICAgcmV0dXJuICJQYXJ0YWdleiB2b3MgcGVuc1x4RTllcyAiLmNvbmNhdChmb2xsb3dlckNvdW50ID4gMCA/ICdhdmVjIHZvcyAnICsgZm9sbG93ZXJDb3VudCArICcgZm9sbG93ZXJzJyArIChmb2xsb3dlckNvdW50ID09IDEgPyAnJyA6ICdzJykgKyAnIScgOiAnc3BhY2UhJyk7CiAgICB9CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWFwR2V0dGVycyhbJ2lzTG9nZ2VkSW4nLCAnZ2V0VXNlciddKSksIG1hcEFjdGlvbnMoWydyZXRyaWV2ZVVzZXInXSkpLCB7fSwgewogICAgdXBkYXRlRmlsZTogZnVuY3Rpb24gdXBkYXRlRmlsZShlKSB7CiAgICAgIHZhciBfZSR0YXJnZXQsIF9lJHRhcmdldCRmaWxlczsKCiAgICAgIGlmIChlICE9PSBudWxsICYmIGUgIT09IHZvaWQgMCAmJiAoX2UkdGFyZ2V0ID0gZS50YXJnZXQpICE9PSBudWxsICYmIF9lJHRhcmdldCAhPT0gdm9pZCAwICYmIChfZSR0YXJnZXQkZmlsZXMgPSBfZSR0YXJnZXQuZmlsZXMpICE9PSBudWxsICYmIF9lJHRhcmdldCRmaWxlcyAhPT0gdm9pZCAwICYmIF9lJHRhcmdldCRmaWxlc1swXSkgewogICAgICAgIHRoaXMuZmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZmlsZSA9IG51bGw7CiAgICAgICAgd2luZG93LmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWxlSW5wdXQnKS52YWx1ZSA9IG51bGw7CiAgICAgIH0KICAgIH0sCiAgICBzY3JvbGxEZXRlY3RvcjogZnVuY3Rpb24gc2Nyb2xsRGV0ZWN0b3IoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgd2luZG93Lm9uc2Nyb2xsID0gLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGJvdHRvbU9mV2luZG93LCBfZGF0YSRpdGVtczIsIGRhdGEsIGV4aXN0aW5nUG9zdHNJZHM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBib3R0b21PZldpbmRvdyA9IE1hdGguY2VpbChNYXRoLm1heCh3aW5kb3cucGFnZVlPZmZzZXQsIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AsIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKSArIHdpbmRvdy5pbm5lckhlaWdodCkgPj0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lm9mZnNldEhlaWdodDsKCiAgICAgICAgICAgICAgICBpZiAoIShib3R0b21PZldpbmRvdyAmJiAhX3RoaXMyLmZldGNoaW5nKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczIuZmV0Y2hpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAzOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5nZXRQb3N0cyhfdGhpczIgPT09IG51bGwgfHwgX3RoaXMyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpczIuYWZ0ZXIpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBkYXRhID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKGRhdGEgIT09IG51bGwgJiYgZGF0YSAhPT0gdm9pZCAwICYmIChfZGF0YSRpdGVtczIgPSBkYXRhLml0ZW1zKSAhPT0gbnVsbCAmJiBfZGF0YSRpdGVtczIgIT09IHZvaWQgMCAmJiBfZGF0YSRpdGVtczIubGVuZ3RoKSB7CiAgICAgICAgICAgICAgICAgIC8vIG1lcmdlICh0aGlzIGFzIGFueSkucG9zdHMgd2l0aCBkYXRhLml0ZW1zCiAgICAgICAgICAgICAgICAgIGV4aXN0aW5nUG9zdHNJZHMgPSBfdGhpczIucG9zdHMubWFwKGZ1bmN0aW9uIChwb3N0KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvc3QuaWQ7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICBkYXRhLml0ZW1zID0gZGF0YS5pdGVtcy5maWx0ZXIoZnVuY3Rpb24gKG5ld1Bvc3QpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWV4aXN0aW5nUG9zdHNJZHMuaW5jbHVkZXMobmV3UG9zdC5pZCk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICBfdGhpczIucG9zdHMgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KF90aGlzMi5wb3N0cyksIF90b0NvbnN1bWFibGVBcnJheShkYXRhLml0ZW1zKSk7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5iZWZvcmUgPSBkYXRhLnByZXZpb3VzOwogICAgICAgICAgICAgICAgICBfdGhpczIuYWZ0ZXIgPSBkYXRhLm5leHQ7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMyLmZldGNoaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDExOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDMpOwogICAgICAgICAgICAgICAgX3RoaXMyLmZldGNoaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKF9jb250ZXh0Mi50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMywgMTFdXSk7CiAgICAgIH0pKTsKICAgIH0sCiAgICBnZXRQb3N0czogZnVuY3Rpb24gZ2V0UG9zdHMoYWZ0ZXIpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIF9yZXMkZGF0YTsKCiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgiL3RpbWVsaW5lIi5jb25jYXQoYWZ0ZXIgPyAnP2FmdGVyPScgKyBhZnRlciA6ICcnKSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghKHJlcyAhPT0gbnVsbCAmJiByZXMgIT09IHZvaWQgMCAmJiAoX3JlcyRkYXRhID0gcmVzLmRhdGEpICE9PSBudWxsICYmIF9yZXMkZGF0YSAhPT0gdm9pZCAwICYmIF9yZXMkZGF0YS5pdGVtcykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgcmVzID09PSBudWxsIHx8IHJlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzLmRhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBidWxrQ3JlYXRlUG9zdDogZnVuY3Rpb24gYnVsa0NyZWF0ZVBvc3QoY291bnQpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgZmlsZSwgaTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMzLmRlc2NyaXB0aW9uID0gIlBvc3QiOwogICAgICAgICAgICAgICAgZmlsZSA9IF90aGlzMy5maWxlOwoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMy5maWxlICYmIChfdGhpczMgPT09IG51bGwgfHwgX3RoaXMzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpczMuZGVzY3JpcHRpb24ubGVuZ3RoKSA+IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGkgPSAwOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBpZiAoIShpIDwgY291bnQpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMy5kZXNjcmlwdGlvbiA9ICJQb3N0ICIuY29uY2F0KGkpOwogICAgICAgICAgICAgICAgX3RoaXMzLmZpbGUgPSBmaWxlOwogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5jcmVhdGVQb3N0KCk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIGkrKzsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY3JlYXRlUG9zdDogZnVuY3Rpb24gY3JlYXRlUG9zdCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICB2YXIgX3Bvc3QkZGF0YSwgcG9zdCwgX3Bvc3QkZGF0YTIsIF9wb3N0JGRhdGEzLCBfZGF0YSRpdGVtczMsIHB1Ymxpc2hlZFBvc3QsIGRhdGE7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczQuZmlsZSAmJiAoX3RoaXM0ID09PSBudWxsIHx8IF90aGlzNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXM0LmRlc2NyaXB0aW9uLmxlbmd0aCkgPiAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI5OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczQudXBsb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCcvcG9zdHMnLCB7CiAgICAgICAgICAgICAgICAgIGZpbGVOYW1lOiBfdGhpczQuZmlsZS5uYW1lLAogICAgICAgICAgICAgICAgICBmaWxlVHlwZTogX3RoaXM0LmZpbGUudHlwZSwKICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IF90aGlzNC5kZXNjcmlwdGlvbgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHBvc3QgPSBfY29udGV4dDUuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoIShwb3N0ICE9PSBudWxsICYmIHBvc3QgIT09IHZvaWQgMCAmJiAoX3Bvc3QkZGF0YSA9IHBvc3QuZGF0YSkgIT09IG51bGwgJiYgX3Bvc3QkZGF0YSAhPT0gdm9pZCAwICYmIF9wb3N0JGRhdGEudXBsb2FkVVJMKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gZmV0Y2gocG9zdCA9PT0gbnVsbCB8fCBwb3N0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3Bvc3QkZGF0YTIgPSBwb3N0LmRhdGEpID09PSBudWxsIHx8IF9wb3N0JGRhdGEyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcG9zdCRkYXRhMi51cGxvYWRVUkwsIHsKICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUFVUJywKICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiBfdGhpczQuZmlsZS50eXBlCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIGJvZHk6IF90aGlzNC5maWxlCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCIvcG9zdHMvIi5jb25jYXQocG9zdCA9PT0gbnVsbCB8fCBwb3N0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3Bvc3QkZGF0YTMgPSBwb3N0LmRhdGEpID09PSBudWxsIHx8IF9wb3N0JGRhdGEzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcG9zdCRkYXRhMy5pZCwgIi9wdWJsaXNoIikpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgcHVibGlzaGVkUG9zdCA9IF9jb250ZXh0NS5zZW50OwogICAgICAgICAgICAgICAgX3RoaXM0LmRlc2NyaXB0aW9uID0gJyc7CgogICAgICAgICAgICAgICAgX3RoaXM0LnVwZGF0ZUZpbGUobnVsbCk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuZ2V0UG9zdHMoJycpOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0NS5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChkYXRhICE9PSBudWxsICYmIGRhdGEgIT09IHZvaWQgMCAmJiAoX2RhdGEkaXRlbXMzID0gZGF0YS5pdGVtcykgIT09IG51bGwgJiYgX2RhdGEkaXRlbXMzICE9PSB2b2lkIDAgJiYgX2RhdGEkaXRlbXMzLmxlbmd0aCkgewogICAgICAgICAgICAgICAgICBfdGhpczQucG9zdHMgPSBkYXRhLml0ZW1zOwogICAgICAgICAgICAgICAgICBfdGhpczQuYmVmb3JlID0gZGF0YS5wcmV2aW91czsKICAgICAgICAgICAgICAgICAgX3RoaXM0LmFmdGVyID0gZGF0YS5uZXh0OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzNC51cGxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCBwdWJsaXNoZWRQb3N0KTsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5wcmV2ID0gMjI7CiAgICAgICAgICAgICAgICBfY29udGV4dDUudDAgPSBfY29udGV4dDVbImNhdGNoIl0oMik7CiAgICAgICAgICAgICAgICBfdGhpczQudXBsb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKF9jb250ZXh0NS50MCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgX2NvbnRleHQ1LnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAyNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMzA7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyOToKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCBudWxsKTsKCiAgICAgICAgICAgICAgY2FzZSAzMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSwgbnVsbCwgW1syLCAyMl1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSkKfSk7"},{"version":3,"sources":["/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!/home/hugo_leguillier/tinygram-2022-2023/front/node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!/home/hugo_leguillier/tinygram-2022-2023/front/src/views/Home.vue?vue&type=script&lang=ts"],"names":[],"mappings":";;;;;;;;;;;;;AACA,OAAO,SAAP,MAAsB,uCAAtB;AACA,SAAS,eAAT,QAAgC,KAAhC;AACA,OAAO,KAAP,MAAkB,iBAAlB;AACA,SAAS,UAAT,EAAqB,UAArB,QAAuC,MAAvC;AACA,OAAO,WAAP,MAAwB,yCAAxB;AACA,OAAO,YAAP,MAAyB,qCAAzB;AAEA,eAAe,eAAe,CAAC;AAC7B,EAAA,IAAI,EAAE,MADuB;AAG7B,EAAA,UAAU,EAAE;AACV,IAAA,SAAS,EAAT,SADU;AAEV,IAAA,YAAY,EAAZ,YAFU;AAGV,IAAA,WAAW,EAAX;AAHU,GAHiB;AAS7B,EAAA,IAT6B,kBASzB;AACF,WAAO;AACL,MAAA,IAAI,EAAE,IADD;AAEL,MAAA,WAAW,EAAE,EAFR;AAGL,MAAA,MAAM,EAAE,EAHH;AAIL,MAAA,KAAK,EAAE,EAJF;AAKL,MAAA,KAAK,EAAE,EALF;AAML,MAAA,SAAS,EAAE,KANN;AAOL,MAAA,QAAQ,EAAE;AAPL,KAAP;AASD,GAnB4B;AAqBvB,EAAA,OArBuB,qBAqBhB;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,mBACN,KAAY,CAAC,UAAb,EADM;AAAA;AAAA;AAAA;;AAER,cAAA,KAAY,CAAC,YAAb;;AAFQ;AAAA,qBAGW,KAAY,CAAC,QAAb,CAAsB,EAAtB,CAHX;;AAAA;AAGH,cAAA,IAHG;;AAKT,kBAAI,IAAJ,aAAI,IAAJ,8BAAI,IAAI,CAAE,KAAV,wCAAI,YAAa,MAAjB,EAAyB;AACtB,gBAAA,KAAY,CAAC,KAAb,GAAqB,IAAI,CAAC,KAA1B;AACA,gBAAA,KAAY,CAAC,MAAb,GAAsB,IAAI,CAAC,QAA3B;AACA,gBAAA,KAAY,CAAC,KAAb,GAAqB,IAAI,CAAC,IAA1B;AACF;;AATQ;AAAA;;AAAA;AAWR,cAAA,KAAY,CAAC,OAAb,CAAqB,IAArB,CAA0B,GAA1B;;AAXQ;AAcV,cAAA,KAAY,CAAC,cAAb;;AAdU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAeZ,GApC4B;AAsC7B,EAAA,QAAQ,EAAE;AACR,IAAA,eADQ,6BACO;AACb,UAAM,aAAa,GAAI,KAAa,OAAb,GAAuB,SAA9C;AACA,+CACE,aAAa,GAAG,CAAhB,GACI,cAAc,aAAd,GAA8B,YAA9B,IAA8C,aAAa,IAAI,CAAjB,GAAqB,EAArB,GAA0B,GAAxE,IAA+E,GADnF,GAEI,QAHN;AAKD;AARO,GAtCmB;AAiD7B,EAAA,OAAO,gDACF,UAAU,CAAC,CAAC,YAAD,EAAe,SAAf,CAAD,CADR,GAEF,UAAU,CAAC,CAAC,cAAD,CAAD,CAFR;AAIL,IAAA,UAJK,sBAIM,CAJN,EAIY;AAAA;;AACf,UAAI,CAAJ,aAAI,CAAJ,4BAAI,CAAC,CAAE,MAAP,yDAAI,UAAW,KAAf,4CAAI,gBAAmB,CAAnB,CAAJ,EAA2B;AACxB,aAAa,IAAb,GAAoB,CAAC,CAAC,MAAF,CAAS,KAAT,CAAe,CAAf,CAApB;AACF,OAFD,MAEO;AACJ,aAAa,IAAb,GAAoB,IAApB;AACA,QAAA,MAAc,CAAC,QAAf,CAAwB,cAAxB,CAAuC,WAAvC,EAAoD,KAApD,GAA4D,IAA5D;AACF;AACF,KAXI;AAaL,IAAA,cAbK,4BAaS;AAAA;;AACZ,MAAA,MAAM,CAAC,QAAP,wEAAkB;AAAA;;AAAA;AAAA;AAAA;AAAA;AACZ,gBAAA,cADY,GAEd,IAAI,CAAC,IAAL,CACE,IAAI,CAAC,GAAL,CAAS,MAAM,CAAC,WAAhB,EAA6B,QAAQ,CAAC,eAAT,CAAyB,SAAtD,EAAiE,QAAQ,CAAC,IAAT,CAAc,SAA/E,IACE,MAAM,CAAC,WAFX,KAGK,QAAQ,CAAC,eAAT,CAAyB,YALhB;;AAAA,sBAMZ,cAAc,IAAI,CAAE,MAAY,CAAC,QANrB;AAAA;AAAA;AAAA;;AAOb,gBAAA,MAAY,CAAC,QAAb,GAAwB,IAAxB;AAPa;AAAA;AAAA,uBASQ,MAAY,CAAC,QAAb,CAAuB,MAAvB,aAAuB,MAAvB,uBAAuB,MAAY,CAAE,KAArC,CATR;;AAAA;AASN,gBAAA,IATM;;AAWZ,oBAAI,IAAJ,aAAI,IAAJ,+BAAI,IAAI,CAAE,KAAV,yCAAI,aAAa,MAAjB,EAAyB;AACvB;AACM,kBAAA,gBAFiB,GAEG,MAAY,CAAC,KAAb,CAAmB,GAAnB,CAAuB,UAAC,IAAD;AAAA,2BAAe,IAAI,CAAC,EAApB;AAAA,mBAAvB,CAFH;AAIvB,kBAAA,IAAI,CAAC,KAAL,GAAa,IAAI,CAAC,KAAL,CAAW,MAAX,CAAkB,UAAC,OAAD,EAAiB;AAC9C,2BAAO,CAAC,gBAAgB,CAAC,QAAjB,CAA0B,OAAO,CAAC,EAAlC,CAAR;AACD,mBAFY,CAAb;AAIC,kBAAA,MAAY,CAAC,KAAb,gCAA0B,MAAY,CAAC,KAAvC,sBAAiD,IAAI,CAAC,KAAtD;AACA,kBAAA,MAAY,CAAC,MAAb,GAAsB,IAAI,CAAC,QAA3B;AACA,kBAAA,MAAY,CAAC,KAAb,GAAqB,IAAI,CAAC,IAA1B;AACF;;AAEA,gBAAA,MAAY,CAAC,QAAb,GAAwB,KAAxB;AAxBW;AAAA;;AAAA;AAAA;AAAA;AA0BX,gBAAA,MAAY,CAAC,QAAb,GAAwB,KAAxB;AACD,gBAAA,OAAO,CAAC,KAAR;;AA3BY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAlB;AA+BD,KA7CI;AA+CC,IAAA,QA/CD,oBA+CU,KA/CV,EA+CuB;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACR,KAAK,CAAC,GAAN,oBAAsB,KAAK,GAAG,YAAY,KAAf,GAAuB,EAAlD,EADQ;;AAAA;AACpB,gBAAA,GADoB;;AAAA,sBAGrB,GAHqB,aAGrB,GAHqB,4BAGrB,GAAW,CAAE,IAHQ,sCAGrB,UAAmB,KAHE;AAAA;AAAA;AAAA;;AAAA,kDAIhB,GAJgB,aAIhB,GAJgB,uBAIhB,GAAW,CAAE,IAJG;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAM3B,KArDI;AAuDC,IAAA,cAvDD,0BAuDgB,KAvDhB,EAuD6B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC/B,gBAAA,MAAY,CAAC,WAAb;AACK,gBAAA,IAF0B,GAElB,MAAY,CAAC,IAFK;;AAAA,sBAI3B,MAAY,CAAC,IAAb,IAAsB,CAAA,MAAY,SAAZ,IAAA,MAAY,WAAZ,YAAA,MAAY,CAAE,WAAd,CAA0B,MAA1B,IAAmC,CAJ9B;AAAA;AAAA;AAAA;;AAKrB,gBAAA,CALqB,GAKjB,CALiB;;AAAA;AAAA,sBAKd,CAAC,GAAG,KALU;AAAA;AAAA;AAAA;;AAM3B,gBAAA,MAAY,CAAC,WAAb,kBAAmC,CAAnC;AACA,gBAAA,MAAY,CAAC,IAAb,GAAoB,IAApB;AAP2B;AAAA,uBAQrB,MAAY,CAAC,UAAb,EARqB;;AAAA;AAKH,gBAAA,CAAC,EALE;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWjC,KAlEI;AAoEC,IAAA,UApED,wBAoEW;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,sBACT,MAAY,CAAC,IAAb,IAAsB,CAAA,MAAY,SAAZ,IAAA,MAAY,WAAZ,YAAA,MAAY,CAAE,WAAd,CAA0B,MAA1B,IAAmC,CADhD;AAAA;AAAA;AAAA;;AAEX,gBAAA,MAAY,CAAC,SAAb,GAAyB,IAAzB;AAFW;AAAA;AAAA,uBAIS,KAAK,CAAC,IAAN,CAAW,QAAX,EAAqB;AACtC,kBAAA,QAAQ,EAAG,MAAY,CAAC,IAAb,CAAkB,IADS;AAEtC,kBAAA,QAAQ,EAAG,MAAY,CAAC,IAAb,CAAkB,IAFS;AAGtC,kBAAA,WAAW,EAAG,MAAY,CAAC;AAHW,iBAArB,CAJT;;AAAA;AAIJ,gBAAA,IAJI;;AAAA,sBAUL,IAVK,aAUL,IAVK,6BAUL,IAAY,CAAE,IAVT,uCAUL,WAAoB,SAVf;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAWF,KAAK,CAAE,IAAF,aAAE,IAAF,sCAAE,IAAY,CAAE,IAAhB,gDAAE,YAAoB,SAAtB,EAAiC;AAC1C,kBAAA,MAAM,EAAE,KADkC;AAE1C,kBAAA,OAAO,EAAE;AACP,oCAAiB,MAAY,CAAC,IAAb,CAAkB;AAD5B,mBAFiC;AAK1C,kBAAA,IAAI,EAAG,MAAY,CAAC;AALsB,iBAAjC,CAXH;;AAAA;AAAA;AAAA,uBAmBoB,KAAK,CAAC,IAAN,kBAAsB,IAAtB,aAAsB,IAAtB,sCAAsB,IAAY,CAAE,IAApC,gDAAsB,YAAoB,EAA1C,cAnBpB;;AAAA;AAmBF,gBAAA,aAnBE;AAqBP,gBAAA,MAAY,CAAC,WAAb,GAA2B,EAA3B;;AACA,gBAAA,MAAY,CAAC,UAAb,CAAwB,IAAxB;;AAtBO;AAAA,uBAwBY,MAAY,CAAC,QAAb,CAAsB,EAAtB,CAxBZ;;AAAA;AAwBF,gBAAA,IAxBE;;AA0BR,oBAAI,IAAJ,aAAI,IAAJ,+BAAI,IAAI,CAAE,KAAV,yCAAI,aAAa,MAAjB,EAAyB;AACtB,kBAAA,MAAY,CAAC,KAAb,GAAqB,IAAI,CAAC,KAA1B;AACA,kBAAA,MAAY,CAAC,MAAb,GAAsB,IAAI,CAAC,QAA3B;AACA,kBAAA,MAAY,CAAC,KAAb,GAAqB,IAAI,CAAC,IAA1B;AACF;;AAEA,gBAAA,MAAY,CAAC,SAAb,GAAyB,KAAzB;AAhCO,kDAiCD,aAjCC;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAoCT,gBAAA,MAAY,CAAC,SAAb,GAAyB,KAAzB;AACD,gBAAA,OAAO,CAAC,KAAR;AArCU;;AAAA;AAAA;AAAA;;AAAA;AAAA,kDAyCL,IAzCK;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA2Cf;AA/GI;AAjDsB,CAAD,CAA9B","sourcesContent":["\nimport Satellite from '@/components/CustomIcon/Satellite.vue';\nimport { defineComponent } from 'vue';\nimport axios from '@/plugins/axios';\nimport { mapActions, mapGetters } from 'vuex';\nimport Observatory from '@/components/CustomIcon/Observatory.vue';\nimport TimelinePost from '@/components/Posts/TimelinePost.vue';\n\nexport default defineComponent({\n  name: 'Home',\n\n  components: {\n    Satellite,\n    TimelinePost,\n    Observatory,\n  },\n\n  data() {\n    return {\n      file: null,\n      description: '',\n      before: '',\n      after: '',\n      posts: [],\n      uploading: false,\n      fetching: false,\n    };\n  },\n\n  async mounted() {\n    if ((this as any).isLoggedIn()) {\n      (this as any).retrieveUser();\n      const data = await (this as any).getPosts('');\n\n      if (data?.items?.length) {\n        (this as any).posts = data.items;\n        (this as any).before = data.previous;\n        (this as any).after = data.next;\n      }\n    } else {\n      (this as any).$router.push('/');\n    }\n\n    (this as any).scrollDetector();\n  },\n\n  computed: {\n    placeholderText() {\n      const followerCount = (this as any).getUser().followers;\n      return `Partagez vos pensées ${\n        followerCount > 0\n          ? 'avec vos ' + followerCount + ' followers' + (followerCount == 1 ? '' : 's') + '!'\n          : 'space!'\n      }`;\n    },\n  },\n\n  methods: {\n    ...mapGetters(['isLoggedIn', 'getUser']),\n    ...mapActions(['retrieveUser']),\n\n    updateFile(e: any) {\n      if (e?.target?.files?.[0]) {\n        (this as any).file = e.target.files[0];\n      } else {\n        (this as any).file = null;\n        (window as any).document.getElementById('fileInput').value = null;\n      }\n    },\n\n    scrollDetector() {\n      window.onscroll = async () => {\n        let bottomOfWindow =\n          Math.ceil(\n            Math.max(window.pageYOffset, document.documentElement.scrollTop, document.body.scrollTop) +\n              window.innerHeight,\n          ) >= document.documentElement.offsetHeight;\n        if (bottomOfWindow && !(this as any).fetching) {\n          (this as any).fetching = true;\n          try {\n            const data = await (this as any).getPosts((this as any)?.after);\n\n            if (data?.items?.length) {\n              // merge (this as any).posts with data.items\n              const existingPostsIds = (this as any).posts.map((post: any) => post.id);\n\n              data.items = data.items.filter((newPost: any) => {\n                return !existingPostsIds.includes(newPost.id);\n              });\n\n              (this as any).posts = [...(this as any).posts, ...data.items];\n              (this as any).before = data.previous;\n              (this as any).after = data.next;\n            }\n\n            (this as any).fetching = false;\n          } catch (e) {\n            (this as any).fetching = false;\n            console.error(e);\n          }\n        }\n      };\n    },\n\n    async getPosts(after: string) {\n      const res = await axios.get(`/timeline${after ? '?after=' + after : ''}`);\n\n      if ((res as any)?.data?.items) {\n        return (res as any)?.data;\n      }\n    },\n\n    async bulkCreatePost(count: number) {\n      (this as any).description = `Post`;\n      const file = (this as any).file;\n\n      if ((this as any).file && (this as any)?.description.length > 0) {\n        for (let i = 0; i < count; i++) {\n          (this as any).description = `Post ${i}`;\n          (this as any).file = file;\n          await (this as any).createPost();\n        }\n      }\n    },\n\n    async createPost() {\n      if ((this as any).file && (this as any)?.description.length > 0) {\n        (this as any).uploading = true;\n        try {\n          const post = await axios.post('/posts', {\n            fileName: (this as any).file.name,\n            fileType: (this as any).file.type,\n            description: (this as any).description,\n          });\n\n          if ((post as any)?.data?.uploadURL) {\n            await fetch((post as any)?.data?.uploadURL, {\n              method: 'PUT', \n              headers: {\n                'Content-Type': (this as any).file.type,               \n              },\n              body: (this as any).file,\n            });\n\n            const publishedPost = await axios.post(`/posts/${(post as any)?.data?.id}/publish`);\n\n            (this as any).description = '';\n            (this as any).updateFile(null);\n\n            const data = await (this as any).getPosts('');\n\n            if (data?.items?.length) {\n              (this as any).posts = data.items;\n              (this as any).before = data.previous;\n              (this as any).after = data.next;\n            }\n\n            (this as any).uploading = false;\n            return publishedPost;\n          }\n        } catch (e) {\n          (this as any).uploading = false;\n          console.error(e);\n          return e;\n        }\n      } else {\n        return null;\n      }\n    },\n  },\n});\n"],"sourceRoot":""}]}